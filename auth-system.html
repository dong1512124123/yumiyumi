<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3í•™ë…„ 2ë°˜</title>
    <!-- Google Fonts: Nanum Gothic (ë‘¥ê¸€ê³  ê·€ì—¬ìš´ í•œê¸€ í°íŠ¸) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet" />
    <style>
      /* ===========================
         ì „ì—­ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” ë° ê¸°ë³¸ê°’
         =========================== */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      :root {
        /* íŒŒìŠ¤í…” ë¼ë²¤ë”/í•‘í¬ ê³„ì—´ í”„ë¼ì´ë¨¸ë¦¬ ìƒ‰ìƒ */
        --color-primary: #b48de8;
        --color-primary-hover: #9b6fd4;
        --color-primary-light: #f5eeff;
        /* ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…” ìœ„í—˜(danger) ìƒ‰ìƒ */
        --color-danger: #f08080;
        --color-danger-hover: #e06060;
        /* íŒŒìŠ¤í…” ë¯¼íŠ¸ ì„±ê³µ(success) ìƒ‰ìƒ */
        --color-success: #6dcfb0;
        --color-success-light: #edfaf5;
        /* íŒŒìŠ¤í…” ë…¸ë€ ê²½ê³ (warning) ìƒ‰ìƒ */
        --color-warning: #f5c76a;
        --color-warning-light: #fffbee;
        /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ (ë‹¤ì†Œ ë¶€ë“œëŸ½ê²Œ) */
        --color-text-primary: #3d3250;
        --color-text-secondary: #8878a8;
        --color-text-muted: #bbadd4;
        /* í…Œë‘ë¦¬ & ë°°ê²½ */
        --color-border: #e8d9f8;
        --color-bg: #fdf7ff;
        --color-surface: #ffffff;
        /* ì€ì€í•˜ê³  ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
        --shadow-sm: 0 2px 8px rgba(180, 141, 232, 0.12);
        --shadow-md: 0 6px 20px rgba(180, 141, 232, 0.18);
        --shadow-lg: 0 12px 36px rgba(180, 141, 232, 0.22);
        /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
        --radius-sm: 14px;
        --radius-md: 20px;
        --radius-lg: 28px;
        --transition: 0.2s ease;
      }

      body {
        /* Nanum Gothic ìš°ì„  ì ìš©, ë¯¸ì§€ì› ì‹œ í´ë°± */
        font-family: 'Nanum Gothic', 'Apple SD Gothic Neo', 'ë§‘ì€ ê³ ë”•', sans-serif;
        background: var(--color-bg);
        /* ì—°í•œ ë¼ë²¤ë” ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½ */
        background-image: radial-gradient(ellipse at top left, #f0e6ff 0%, #fdf7ff 50%, #e8f8f5 100%);
        background-attachment: fixed;
        color: var(--color-text-primary);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 32px 24px 60px;
        letter-spacing: 0.01em;
      }

      /* ===========================
         ë©”ì¸ ì»¨í…Œì´ë„ˆ
         =========================== */
      .app-container {
        width: 100%;
        max-width: 520px;
        transition: max-width 0.25s ease;
      }

      /* ë¡œê·¸ì¸ í›„ í™”ë©´ì€ ë„“ê²Œ */
      .app-container.wide {
        max-width: 900px;
      }

      /* ì•± í—¤ë” ì˜ì—­ */
      .app-header {
        margin-bottom: 32px;
        text-align: center;
      }

      .app-header .header-icon {
        font-size: 2.8rem;
        margin-bottom: 12px;
        display: block;
      }

      .app-header h1 {
        font-size: 1.9rem;
        font-weight: 800;
        color: var(--color-primary);
        /* ê·€ì—¬ìš´ ëŠë‚Œì„ ìœ„í•´ ìê°„ ì‚´ì§ ë„“í˜ */
        letter-spacing: 0.04em;
      }

      .app-header p {
        margin-top: 8px;
        font-size: 0.9rem;
        color: var(--color-text-secondary);
        line-height: 1.6;
      }

      /* ===========================
         í™”ë©´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
         =========================== */
      .screen {
        display: none;
      }

      .screen.active {
        display: block;
        animation: fadeSlideIn 0.22s ease;
      }

      @keyframes fadeSlideIn {
        from { opacity: 0; transform: translateY(8px); }
        to   { opacity: 1; transform: translateY(0); }
      }

      /* ===========================
         ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ (ê³µí†µ)
         =========================== */
      .card {
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-md);
        /* íŒŒìŠ¤í…” ë¼ë²¤ë” í…Œë‘ë¦¬ë¡œ ê·€ì—¬ìš´ ìœ¤ê³½ì„  */
        border: 1.5px solid var(--color-border);
        overflow: hidden;
      }

      .card + .card {
        margin-top: 16px;
      }

      .card-header {
        padding: 20px 24px 16px;
        border-bottom: 1.5px solid var(--color-border);
        /* ë¼ë²¤ë” ê·¸ë¼ë””ì–¸íŠ¸ ì¹´ë“œ í—¤ë” */
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
      }

      .card-header h2 {
        font-size: 1.05rem;
        font-weight: 700;
        color: var(--color-primary);
      }

      .card-header p {
        margin-top: 4px;
        font-size: 0.83rem;
        color: var(--color-text-secondary);
        line-height: 1.5;
      }

      .card-body {
        padding: 24px;
      }

      /* ===========================
         í¼ ìš”ì†Œ (ê³µí†µ)
         =========================== */
      .form-group {
        margin-bottom: 16px;
      }

      .form-label {
        display: block;
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--color-text-secondary);
        margin-bottom: 8px;
      }

      .form-input,
      .form-select,
      .form-textarea {
        width: 100%;
        border: 2px solid var(--color-border);
        /* ì…ë ¥ì°½ë„ ë‘¥ê¸€ê²Œ */
        border-radius: var(--radius-sm);
        padding: 13px 16px;
        font-size: 1rem;
        color: var(--color-text-primary);
        outline: none;
        transition: border-color var(--transition), box-shadow var(--transition);
        background: #fdf7ff;
        font-family: inherit;
        letter-spacing: 0.02em;
        appearance: none;
        -webkit-appearance: none;
      }

      .form-input::placeholder,
      .form-textarea::placeholder {
        color: var(--color-text-muted);
      }

      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
        border-color: var(--color-primary);
        /* ë¼ë²¤ë” í¬ì»¤ìŠ¤ ê¸€ë¡œìš° */
        box-shadow: 0 0 0 4px rgba(180, 141, 232, 0.22);
        background: var(--color-surface);
      }

      /* ë‚ ì§œ ì„ íƒê¸° (date picker) ê·€ì—¬ìš´ í…Œë§ˆ */
      input[type="date"] {
        font-family: 'Nanum Gothic', 'Apple SD Gothic Neo', 'ë§‘ì€ ê³ ë”•', sans-serif;
        color-scheme: light;
      }

      input[type="date"]::-webkit-calendar-picker-indicator {
        cursor: pointer;
        border-radius: 6px;
        padding: 3px;
        transition: background 0.15s ease;
        filter: invert(45%) sepia(60%) saturate(500%) hue-rotate(230deg);
      }

      input[type="date"]::-webkit-calendar-picker-indicator:hover {
        background: rgba(180, 141, 232, 0.15);
      }

      input[type="date"]::-webkit-datetime-edit {
        font-family: 'Nanum Gothic', sans-serif;
        font-weight: 600;
        color: var(--color-text-primary);
      }

      input[type="date"]::-webkit-datetime-edit-fields-wrapper {
        font-family: 'Nanum Gothic', sans-serif;
      }

      input[type="date"]::-webkit-datetime-edit-year-field,
      input[type="date"]::-webkit-datetime-edit-month-field,
      input[type="date"]::-webkit-datetime-edit-day-field {
        color: var(--color-primary);
        font-weight: 700;
      }

      input[type="date"]::-webkit-datetime-edit-year-field:focus,
      input[type="date"]::-webkit-datetime-edit-month-field:focus,
      input[type="date"]::-webkit-datetime-edit-day-field:focus {
        background: var(--color-primary-light);
        border-radius: 4px;
        color: var(--color-primary-hover);
      }

      input[type="date"]::-webkit-datetime-edit-text {
        color: var(--color-text-muted);
      }

      /* í…ìŠ¤íŠ¸ì˜ì—­ ì „ìš© */
      .form-textarea {
        resize: vertical;
        min-height: 80px;
        line-height: 1.6;
      }

      /* ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì»¤ìŠ¤í…€ */
      .form-select {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 14px center;
        padding-right: 44px;
        cursor: pointer;
      }

      /* ë“œë¡­ë‹¤ìš´ í–‰ ë ˆì´ì•„ì›ƒ (í•™ë…„ + ë°˜ ë‚˜ë€íˆ) */
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin-bottom: 16px;
      }

      .form-row .form-group {
        margin-bottom: 0;
      }

      /* ===========================
         ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ (ê³µí†µ)
         =========================== */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        border: none;
        /* ë²„íŠ¼ì„ pillí˜•ìœ¼ë¡œ (ë§¤ìš° ë‘¥ê¸€ê²Œ) */
        border-radius: 999px;
        padding: 13px 24px;
        font-size: 0.97rem;
        font-weight: 700;
        cursor: pointer;
        transition: background var(--transition), transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow var(--transition);
        font-family: inherit;
        white-space: nowrap;
        letter-spacing: 0.03em;
      }

      /* í˜¸ë²„ ì‹œ ì‚´ì§ ìœ„ë¡œ íŠ€ì–´ì˜¤ë¥´ëŠ” íš¨ê³¼ */
      .btn:hover {
        transform: translateY(-2px) scale(1.03);
      }

      .btn:active {
        transform: scale(0.96);
      }

      .btn--full {
        width: 100%;
      }

      /* ê¸°ë³¸(primary) ë²„íŠ¼ â€” íŒŒìŠ¤í…” ë¼ë²¤ë” ê·¸ë¼ë””ì–¸íŠ¸ */
      .btn--primary {
        background: linear-gradient(135deg, #c9a6f0 0%, #b48de8 100%);
        color: #fff;
        box-shadow: 0 4px 14px rgba(180, 141, 232, 0.35);
      }

      .btn--primary:hover {
        background: linear-gradient(135deg, #b48de8 0%, #9b6fd4 100%);
        box-shadow: 0 6px 20px rgba(180, 141, 232, 0.45);
      }

      /* ë³´ì¡°(secondary) ë²„íŠ¼ â€” íŒŒìŠ¤í…” í…Œë‘ë¦¬ */
      .btn--secondary {
        background: var(--color-surface);
        color: var(--color-primary);
        border: 2px solid var(--color-primary);
      }

      .btn--secondary:hover {
        background: var(--color-primary-light);
      }

      /* ìœ„í—˜(danger) ë²„íŠ¼ â€” ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…” ë ˆë“œ */
      .btn--danger {
        background: none;
        color: var(--color-danger);
        border: 2px solid var(--color-danger);
      }

      .btn--danger:hover {
        /* ì—°í•œ íŒŒìŠ¤í…” í•‘í¬ í˜¸ë²„ */
        background: #fde8e8;
      }

      /* ê³ ìŠ¤íŠ¸(ghost) ë²„íŠ¼ â€” í…ìŠ¤íŠ¸ë§Œ */
      .btn--ghost {
        background: none;
        color: var(--color-text-secondary);
        padding: 8px 16px;
        font-size: 0.88rem;
        border-radius: 999px;
      }

      .btn--ghost:hover {
        color: var(--color-primary);
        background: var(--color-primary-light);
      }

      /* ì„±ê³µ(success) ë²„íŠ¼ â€” íŒŒìŠ¤í…” ë¯¼íŠ¸ */
      .btn--success {
        background: linear-gradient(135deg, #84dbbe 0%, #6dcfb0 100%);
        color: #fff;
        box-shadow: 0 4px 14px rgba(109, 207, 176, 0.35);
      }

      .btn--success:hover {
        background: linear-gradient(135deg, #6dcfb0 0%, #52bfa0 100%);
        box-shadow: 0 6px 20px rgba(109, 207, 176, 0.45);
      }

      /* í…ìŠ¤íŠ¸ ë§í¬ ë²„íŠ¼ */
      .btn--link {
        background: none;
        border: none;
        color: var(--color-primary);
        font-size: 0.88rem;
        font-weight: 600;
        padding: 4px 0;
        cursor: pointer;
        text-decoration: underline;
        font-family: inherit;
      }

      .btn--link:hover {
        color: var(--color-primary-hover);
      }

      /* ì‘ì€ ë²„íŠ¼ */
      .btn--sm {
        padding: 8px 14px;
        font-size: 0.83rem;
      }

      /* ===========================
         ì•Œë¦¼ ë©”ì‹œì§€ ë°•ìŠ¤
         =========================== */
      .alert {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        padding: 12px 16px;
        border-radius: var(--radius-sm);
        font-size: 0.88rem;
        line-height: 1.5;
        margin-bottom: 16px;
        animation: fadeSlideIn 0.18s ease;
      }

      .alert--error {
        /* íŒŒìŠ¤í…” í•‘í¬ ì—ëŸ¬ */
        background: #fdeaea;
        color: #c05050;
        border: 1px solid #f5b0b0;
        border-radius: var(--radius-sm);
      }

      .alert--success {
        /* íŒŒìŠ¤í…” ë¯¼íŠ¸ ì„±ê³µ */
        background: var(--color-success-light);
        color: #2e8a6e;
        border: 1px solid #a8e8d4;
        border-radius: var(--radius-sm);
      }

      .alert--warning {
        /* íŒŒìŠ¤í…” ë…¸ë‘ ê²½ê³  */
        background: var(--color-warning-light);
        color: #9a6a00;
        border: 1px solid #f5d88a;
        border-radius: var(--radius-sm);
      }

      .alert--info {
        background: var(--color-primary-light);
        color: var(--color-primary);
        border: 1px solid #dcc8f5;
        border-radius: var(--radius-sm);
      }

      .alert-icon {
        font-size: 1rem;
        flex-shrink: 0;
        margin-top: 1px;
      }

      /* ===========================
         ë©”ì¸ í™”ë©´ â€” ì—­í•  ì„ íƒ
         =========================== */
      .role-select-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 12px;
        margin-top: 8px;
      }

      .role-card {
        background: var(--color-surface);
        border-radius: var(--radius-md);
        padding: 24px 12px;
        text-align: center;
        border: 2px solid var(--color-border);
        cursor: pointer;
        transition:
          border-color var(--transition),
          box-shadow var(--transition),
          background var(--transition),
          /* íŠ€ëŠ” ìŠ¤í”„ë§ íš¨ê³¼ */
          transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        box-shadow: var(--shadow-sm);
      }

      .role-card:hover {
        border-color: var(--color-primary);
        box-shadow: var(--shadow-md);
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
        transform: translateY(-4px) scale(1.03);
      }

      .role-card:active {
        transform: translateY(0) scale(0.97);
      }

      .role-card-icon {
        font-size: 2.2rem;
        margin-bottom: 10px;
        display: block;
      }

      .role-card-title {
        font-size: 0.95rem;
        font-weight: 700;
        color: var(--color-text-primary);
        margin-bottom: 5px;
      }

      .role-card-desc {
        font-size: 0.74rem;
        color: var(--color-text-secondary);
        line-height: 1.5;
      }

      /* ===========================
         ì‚¬ìš©ì í™ˆ í™”ë©´ â€” í”„ë¡œí•„ ì¹´ë“œ
         =========================== */
      .profile-icon-wrap {
        width: 96px;
        height: 96px;
        /* íŒŒìŠ¤í…” ë¼ë²¤ë”â†’í•‘í¬ ê·¸ë¼ë””ì–¸íŠ¸ ì•„ì´ì½˜ ë°°ê²½ */
        background: linear-gradient(135deg, #f0e0ff 0%, #fce8f8 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 2.6rem;
        border: 3px solid #dcc8f5;
        box-shadow: 0 6px 18px rgba(180, 141, 232, 0.22);
        animation: popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      @keyframes popIn {
        from { opacity: 0; transform: scale(0.5); }
        to   { opacity: 1; transform: scale(1); }
      }

      .welcome-title {
        font-size: 1.4rem;
        font-weight: 800;
        color: var(--color-primary);
        text-align: center;
        margin-bottom: 6px;
      }

      .welcome-subtitle {
        font-size: 0.9rem;
        color: var(--color-text-secondary);
        text-align: center;
        margin-bottom: 24px;
      }

      /* ì‚¬ìš©ì ì •ë³´ í…Œì´ë¸” (í™ˆ í™”ë©´) */
      .info-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 24px;
        border-radius: var(--radius-sm);
        overflow: hidden;
        border: 1px solid var(--color-border);
      }

      .info-table th,
      .info-table td {
        padding: 12px 16px;
        font-size: 0.92rem;
        text-align: left;
        border-bottom: 1px solid var(--color-border);
      }

      .info-table tr:last-child th,
      .info-table tr:last-child td {
        border-bottom: none;
      }

      .info-table th {
        font-weight: 700;
        color: var(--color-text-secondary);
        /* íŒŒìŠ¤í…” ë¼ë²¤ë” í…Œì´ë¸” í—¤ë” */
        background: #f5eeff;
        width: 35%;
      }

      .info-table td {
        color: var(--color-text-primary);
        font-weight: 600;
      }

      /* ===========================
         ì‚¬ìš©ì í™ˆ â€” í†µí•© ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”
         =========================== */
      .user-navbar {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
        background: var(--color-surface);
        border-radius: var(--radius-md);
        border: 1.5px solid var(--color-border);
        box-shadow: var(--shadow-sm);
        overflow: hidden;
      }

      /* ì™¼ìª½ íƒ­ ì˜ì—­ */
      .user-navbar-tabs {
        display: flex;
        flex: 1;
        min-width: 0;
      }

      .user-navbar-tabs button {
        padding: 14px 16px;
        font-size: 0.88rem;
        font-weight: 700;
        font-family: inherit;
        border: none;
        cursor: pointer;
        transition: background var(--transition), color var(--transition);
        background: transparent;
        color: var(--color-text-muted);
        letter-spacing: 0.02em;
        white-space: nowrap;
        position: relative;
      }

      .user-navbar-tabs button:hover {
        background: var(--color-primary-light);
        color: var(--color-primary);
      }

      .user-navbar-tabs button.active {
        color: var(--color-primary);
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
      }

      .user-navbar-tabs button.active::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 16%;
        width: 68%;
        height: 3px;
        background: var(--color-primary);
        border-radius: 3px 3px 0 0;
      }

      /* ìš°ë¦¬ë°˜(í™ˆ) ë²„íŠ¼ â€” ì•½ê°„ íŠ¹ë³„í•˜ê²Œ */
      .user-navbar-tabs .nav-home {
        font-weight: 800;
        color: var(--color-primary);
      }

      .user-navbar-tabs .nav-home:hover {
        background: var(--color-primary-light);
      }

      /* ì˜¤ë¥¸ìª½ ì‚¬ìš©ì ì˜ì—­ */
      .user-navbar-user {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
        border-left: 1.5px solid var(--color-border);
        flex-shrink: 0;
      }

      .user-navbar-user .navbar-username {
        font-size: 0.82rem;
        font-weight: 700;
        color: var(--color-text-primary);
        white-space: nowrap;
      }

      .user-navbar-user .btn--logout-icon {
        background: none;
        border: none;
        cursor: pointer;
        padding: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background var(--transition);
        width: 30px;
        height: 30px;
        flex-shrink: 0;
      }

      .user-navbar-user .btn--logout-icon:hover {
        background: #fce8e8;
      }

      /* ë¡œê·¸ì•„ì›ƒ ì•„ì´ì½˜ (CSSë¡œ ë¬¸ ë‚˜ê°€ëŠ” ëª¨ì–‘) */
      .user-navbar-user .btn--logout-icon svg {
        width: 18px;
        height: 18px;
        stroke: var(--color-danger);
        fill: none;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
      }

      .user-tab-content {
        display: none;
      }

      .user-tab-content.active {
        display: block;
        animation: fadeSlideIn 0.22s ease;
      }

      /* ëª¨ë°”ì¼ ë°˜ì‘í˜• â€” ì‘ì€ í™”ë©´ì—ì„œ í°íŠ¸ ì¶•ì†Œ */
      @media (max-width: 480px) {
        .user-navbar-tabs button {
          padding: 12px 10px;
          font-size: 0.78rem;
        }
        .user-navbar-user {
          padding: 8px 10px;
        }
        .user-navbar-user .navbar-username {
          font-size: 0.75rem;
        }
      }

      /* ===========================
         ë‹¤ì´ì–´ë¦¬ ìŠ¤íƒ€ì¼ ë ˆì´ì•„ì›ƒ
         =========================== */
      .diary-layout {
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-md);
        border: 1.5px solid var(--color-border);
        background: var(--color-surface);
      }

      /* ìƒë‹¨ ì›”/ì—°ë„ í—¤ë” */
      .diary-header {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 18px 22px 14px;
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
        border-bottom: 1.5px solid var(--color-border);
      }

      .diary-nav-btn {
        background: none;
        border: 1.5px solid var(--color-border);
        border-radius: 10px;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: var(--color-primary);
        font-size: 1rem;
        transition: all 0.15s ease;
        flex-shrink: 0;
      }

      .diary-nav-btn:hover {
        background: var(--color-primary);
        color: #fff;
        border-color: var(--color-primary);
      }

      .diary-nav-btn:disabled {
        opacity: 0.3;
        cursor: default;
        pointer-events: none;
      }

      .diary-header .header-left {
        display: flex;
        align-items: center;
        gap: 10px;
        flex: 1;
      }

      .diary-header .btn-today {
        margin-left: auto;
        background: var(--color-primary-light);
        border: 1.5px solid var(--color-border);
        border-radius: 10px;
        padding: 5px 14px;
        font-size: 0.75rem;
        font-weight: 700;
        color: var(--color-primary);
        cursor: pointer;
        font-family: inherit;
        transition: all 0.15s ease;
        flex-shrink: 0;
      }

      .diary-header .btn-today:hover {
        background: var(--color-primary);
        color: #fff;
      }

      .diary-header .btn-today.hidden {
        display: none;
      }

      .diary-header .month-num {
        font-size: 2.2rem;
        font-weight: 800;
        color: var(--color-primary);
        line-height: 1;
      }

      .diary-header .month-detail {
        display: flex;
        flex-direction: column;
        gap: 0;
      }

      .diary-header .month-eng {
        font-size: 0.85rem;
        font-weight: 700;
        color: var(--color-primary);
        text-transform: uppercase;
        letter-spacing: 0.06em;
        line-height: 1.2;
      }

      .diary-header .month-year {
        font-size: 0.72rem;
        font-weight: 600;
        color: var(--color-text-muted);
        line-height: 1.2;
      }

      /* ì•Œë¦¼ ë©”ì‹œì§€ ì˜ì—­ */
      .diary-alert-wrap {
        padding: 0 22px;
      }

      /* ë‚ ì§œë³„ ì¤„ë…¸íŠ¸ ëª©ë¡ */
      .diary-rows {
        display: flex;
        flex-direction: column;
      }

      /* ê°œë³„ ë‚ ì§œ í–‰ */
      .diary-row {
        display: flex;
        align-items: stretch;
        border-bottom: 1px solid #f0e4fa;
        min-height: 38px;
      }

      .diary-row:last-child {
        border-bottom: none;
      }

      /* ì™¼ìª½ ë‚ ì§œ ì¹¸ */
      .diary-row .day-cell {
        width: 42px;
        min-width: 42px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.78rem;
        font-weight: 600;
        color: var(--color-text-muted);
        background: #faf5ff;
        border-right: 1.5px solid #f0e4fa;
        flex-shrink: 0;
        user-select: none;
      }

      .diary-row.is-today .day-cell {
        background: var(--color-primary);
        color: #fff;
        font-weight: 800;
        font-size: 0.85rem;
      }

      .diary-row.is-past .day-cell {
        color: #d0c4e0;
      }

      /* ì˜¤ë¥¸ìª½ ì…ë ¥/ë‚´ìš© ì¹¸ */
      .diary-row .content-cell {
        flex: 1;
        display: flex;
        align-items: center;
        padding: 4px 12px;
        min-height: 38px;
        position: relative;
      }

      .diary-row.is-today .content-cell {
        background: #f9f2ff;
      }

      /* ì½”ë©˜íŠ¸ ë²„íŠ¼ */
      .btn-comment {
        flex-shrink: 0;
        margin-left: 6px;
        position: relative;
        background: #fffbee;
        border: 1px solid #f5d98a;
        border-radius: 8px;
        padding: 3px 9px;
        font-size: 0.68rem;
        font-weight: 700;
        color: #b08c00;
        cursor: pointer;
        font-family: inherit;
        transition: all 0.15s ease;
        white-space: nowrap;
      }

      .btn-comment:hover {
        background: #fff3cc;
        border-color: #e8c44a;
      }

      /* ì½”ë©˜íŠ¸ ë©”ëª¨ì§€ íŒì˜¤ë²„ */
      .comment-popover {
        position: absolute;
        bottom: calc(100% + 8px);
        right: 0;
        z-index: 100;
        background: #fffde6;
        border: 1.5px solid #f5d98a;
        border-radius: 12px;
        padding: 10px 14px;
        min-width: 160px;
        max-width: 240px;
        box-shadow: 0 4px 16px rgba(180, 141, 50, 0.18);
        animation: popIn 0.15s ease;
        word-break: break-all;
      }

      .comment-popover::after {
        content: '';
        position: absolute;
        bottom: -7px;
        right: 16px;
        transform: rotate(45deg);
        width: 12px;
        height: 12px;
        background: #fffde6;
        border-right: 1.5px solid #f5d98a;
        border-bottom: 1.5px solid #f5d98a;
      }

      @keyframes popIn {
        from { opacity: 0; transform: translateY(4px) scale(0.95); }
        to   { opacity: 1; transform: translateY(0) scale(1); }
      }

      .comment-popover .popover-label {
        font-size: 0.65rem;
        font-weight: 700;
        color: #b08c00;
        margin-bottom: 4px;
      }

      .comment-popover .popover-text {
        font-size: 0.8rem;
        color: #5a4500;
        line-height: 1.5;
      }

      /* ì˜¤ëŠ˜ ë‚ ì§œ í–‰ â€” ì…ë ¥ ê°€ëŠ¥ */
      .diary-row .review-inline-input {
        width: 100%;
        border: none;
        outline: none;
        background: transparent;
        font-family: inherit;
        font-size: 0.88rem;
        color: var(--color-text-primary);
        padding: 6px 0;
        resize: none;
        line-height: 1.5;
        overflow: hidden;
      }

      .diary-row .review-inline-input::placeholder {
        color: var(--color-text-muted);
        font-size: 0.82rem;
      }

      /* ì €ì¥ ë²„íŠ¼ */
      .diary-row .btn-save-inline {
        flex-shrink: 0;
        background: var(--color-primary);
        color: #fff;
        border: none;
        border-radius: 10px;
        padding: 5px 12px;
        font-size: 0.75rem;
        font-weight: 700;
        cursor: pointer;
        font-family: inherit;
        transition: background 0.15s ease;
        white-space: nowrap;
      }

      .diary-row .btn-save-inline:hover {
        background: var(--color-primary-hover);
      }

      /* ì´ë¯¸ ì‘ì„±ëœ ë‚ ì§œì˜ ë‚´ìš© í‘œì‹œ */
      .diary-row .review-text {
        font-size: 0.85rem;
        color: var(--color-text-primary);
        line-height: 1.5;
        word-break: break-all;
        flex: 1;
      }

      .diary-row.is-past .review-text {
        color: var(--color-text-secondary);
      }

      .diary-row .review-empty {
        font-size: 0.78rem;
        color: #e0d4ee;
        font-style: italic;
      }

      /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
      @media (max-width: 480px) {
        .diary-header {
          padding: 14px 16px 10px;
        }

        .diary-header .month-num {
          font-size: 1.8rem;
        }

        .diary-row .day-cell {
          width: 36px;
          min-width: 36px;
          font-size: 0.7rem;
        }

        .diary-row .content-cell {
          padding: 4px 8px;
        }

        .diary-row .review-inline-input {
          font-size: 0.82rem;
        }

        .diary-row .btn-save-inline {
          padding: 4px 8px;
          font-size: 0.7rem;
        }

        .comment-popover {
          min-width: 130px;
          max-width: 180px;
          padding: 8px 10px;
        }
      }

      /* ===========================
         í•œì¤„í‰ ì‘ì„± ì„¹ì…˜ (ì‚¬ìš©ì í™ˆ)
         =========================== */
      .review-write-section {
        margin-bottom: 0;
      }

      /* ì˜¤ëŠ˜ ë‚ ì§œ í‘œì‹œ ë±ƒì§€ â€” íŒŒìŠ¤í…” pill ìŠ¤íƒ€ì¼ */
      .today-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: linear-gradient(135deg, #f0e0ff 0%, #fce8f8 100%);
        color: var(--color-primary);
        font-size: 0.8rem;
        font-weight: 700;
        padding: 6px 16px;
        border-radius: 999px;
        margin-bottom: 12px;
        border: 1.5px solid #dcc8f5;
        box-shadow: 0 2px 8px rgba(180, 141, 232, 0.15);
      }

      /* í•œì¤„í‰ ì…ë ¥ ì˜ì—­ + ë²„íŠ¼ ë¬¶ìŒ */
      .review-input-wrap {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .review-char-count {
        font-size: 0.78rem;
        color: var(--color-text-muted);
        text-align: right;
        margin-top: -6px;
      }

      .review-char-count.near-limit {
        color: var(--color-warning);
      }

      .review-char-count.at-limit {
        color: var(--color-danger);
      }

      /* ===========================
         ë‚´ í•œì¤„í‰ ëª©ë¡ (ì‚¬ìš©ì í™ˆ)
         =========================== */
      .review-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      /* ê°œë³„ í•œì¤„í‰ ì•„ì´í…œ */
      .review-item {
        border: 1.5px solid var(--color-border);
        border-radius: var(--radius-md);
        overflow: hidden;
        transition: box-shadow var(--transition), transform var(--transition);
      }

      .review-item:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-1px);
      }

      .review-item-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 14px;
        /* íŒŒìŠ¤í…” ë¼ë²¤ë” í—¤ë” */
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
        border-bottom: 1.5px solid var(--color-border);
      }

      .review-item-date {
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--color-text-secondary);
      }

      /* ì˜¤ëŠ˜ ë‚ ì§œ ê°•ì¡° */
      .review-item-date.is-today {
        color: var(--color-primary);
      }

      .review-item-body {
        padding: 12px 14px;
      }

      .review-item-content {
        font-size: 0.95rem;
        color: var(--color-text-primary);
        line-height: 1.7;
        word-break: break-all;
      }

      /* ê´€ë¦¬ì í‰ê°€ ì½”ë©˜íŠ¸ í‘œì‹œ ì˜ì—­ â€” íŒŒìŠ¤í…” ë…¸ë‘ */
      .admin-comment-box {
        margin-top: 10px;
        padding: 10px 14px;
        background: #fffbee;
        border-radius: var(--radius-sm);
        border-left: 4px solid #f5c76a;
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }

      .admin-comment-label {
        font-size: 0.75rem;
        font-weight: 700;
        color: #a07800;
        flex-shrink: 0;
        margin-top: 2px;
      }

      .admin-comment-text {
        font-size: 0.88rem;
        color: #7a5a00;
        line-height: 1.6;
        word-break: break-all;
      }

      /* í•œì¤„í‰ ì—†ìŒ ì•ˆë‚´ */
      .review-list-empty {
        text-align: center;
        padding: 28px 16px;
        color: var(--color-text-muted);
        font-size: 0.88rem;
        line-height: 1.8;
      }

      .review-list-empty-icon {
        font-size: 1.8rem;
        display: block;
        margin-bottom: 8px;
      }

      /* ===========================
         ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ â€” ì‚¬ìš©ì ëª©ë¡ í…Œì´ë¸”
         =========================== */
      .section-title {
        font-size: 0.9rem;
        font-weight: 700;
        color: var(--color-text-secondary);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .user-count-badge {
        /* íŒŒìŠ¤í…” ë¼ë²¤ë” ë°°ì§€ */
        background: linear-gradient(135deg, #c9a6f0 0%, #b48de8 100%);
        color: #fff;
        font-size: 0.75rem;
        font-weight: 700;
        padding: 3px 12px;
        border-radius: 999px;
        letter-spacing: 0.03em;
        box-shadow: 0 2px 8px rgba(180, 141, 232, 0.3);
      }

      .user-list-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.88rem;
        border-radius: var(--radius-sm);
        overflow: hidden;
        border: 1px solid var(--color-border);
      }

      .user-list-table thead tr {
        /* íŒŒìŠ¤í…” ê·¸ë¼ë””ì–¸íŠ¸ í…Œì´ë¸” í—¤ë” */
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
      }

      .user-list-table th {
        padding: 10px 14px;
        font-weight: 700;
        color: var(--color-primary);
        text-align: left;
        border-bottom: 2px solid #dcc8f5;
        white-space: nowrap;
      }

      .user-list-table td {
        padding: 10px 14px;
        color: var(--color-text-primary);
        border-bottom: 1px solid var(--color-border);
      }

      .user-list-table tbody tr:last-child td {
        border-bottom: none;
      }

      .user-list-table tbody tr:hover {
        /* í˜¸ë²„ ì‹œ ì—°í•œ íŒŒìŠ¤í…” */
        background: #f9f2ff;
      }

      /* ì‚¬ìš©ì ì—†ìŒ ì•ˆë‚´ */
      .user-list-empty {
        text-align: center;
        padding: 32px 16px;
        color: var(--color-text-muted);
        font-size: 0.88rem;
        line-height: 1.8;
      }

      .user-list-empty-icon {
        font-size: 2rem;
        display: block;
        margin-bottom: 8px;
      }

      /* ===========================
         ê´€ë¦¬ì í•œì¤„í‰ ê´€ë¦¬ ì„¹ì…˜
         =========================== */

      /* ë‚ ì§œ ì„ íƒ í–‰ */
      .date-filter-row {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 16px;
      }

      .date-filter-row .form-input {
        flex: 1;
        padding: 10px 14px;
        font-size: 0.9rem;
        background: linear-gradient(135deg, #fdf7ff 0%, #fce8f8 100%);
        color: var(--color-primary);
        font-weight: 600;
      }

      /* ê´€ë¦¬ììš© í•œì¤„í‰ ëª©ë¡ */
      .admin-review-list {
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      /* ê´€ë¦¬ììš© í•œì¤„í‰ ì•„ì´í…œ */
      .admin-review-item {
        border: 1.5px solid var(--color-border);
        border-radius: var(--radius-md);
        overflow: hidden;
        transition: box-shadow var(--transition);
      }

      .admin-review-item:hover {
        box-shadow: var(--shadow-sm);
      }

      .admin-review-item-header {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 14px;
        /* íŒŒìŠ¤í…” ê·¸ë¼ë””ì–¸íŠ¸ í—¤ë” */
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
        border-bottom: 1.5px solid var(--color-border);
      }

      .admin-review-user-badge {
        /* íŒŒìŠ¤í…” ë¼ë²¤ë” ì‚¬ìš©ì ë°°ì§€ */
        background: linear-gradient(135deg, #c9a6f0 0%, #b48de8 100%);
        color: #fff;
        font-size: 0.75rem;
        font-weight: 700;
        padding: 4px 12px;
        border-radius: 999px;
        white-space: nowrap;
        box-shadow: 0 2px 6px rgba(180, 141, 232, 0.3);
      }

      .admin-review-item-body {
        padding: 12px 14px;
      }

      .admin-review-content {
        font-size: 0.95rem;
        color: var(--color-text-primary);
        line-height: 1.7;
        margin-bottom: 12px;
        word-break: break-all;
      }

      /* ê´€ë¦¬ì í‰ê°€ ì…ë ¥ í–‰ */
      .admin-comment-input-row {
        display: flex;
        gap: 8px;
        align-items: flex-start;
      }

      .admin-comment-input-row .form-input {
        flex: 1;
        padding: 9px 12px;
        font-size: 0.88rem;
      }

      /* ì´ë¯¸ í‰ê°€ê°€ ìˆëŠ” ê²½ìš° í‘œì‹œ ì˜ì—­ â€” íŒŒìŠ¤í…” ë¯¼íŠ¸ */
      .existing-comment-box {
        margin-bottom: 10px;
        padding: 9px 12px;
        background: #edfaf5;
        border-radius: var(--radius-sm);
        border-left: 4px solid #6dcfb0;
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }

      .existing-comment-label {
        font-size: 0.75rem;
        font-weight: 700;
        color: #2e8a6e;
        flex-shrink: 0;
        margin-top: 2px;
      }

      .existing-comment-text {
        font-size: 0.88rem;
        color: #1e6655;
        line-height: 1.6;
        word-break: break-all;
      }

      /* í•œì¤„í‰ ì—†ìŒ ì•ˆë‚´ (ê´€ë¦¬ì) */
      .admin-review-empty {
        text-align: center;
        padding: 32px 16px;
        color: var(--color-text-muted);
        font-size: 0.88rem;
        line-height: 1.8;
      }

      .admin-review-empty-icon {
        font-size: 2rem;
        display: block;
        margin-bottom: 8px;
      }

      /* í•œì¤„í‰ ìˆ˜ ë±ƒì§€ (ê´€ë¦¬ì) â€” íŒŒìŠ¤í…” ë¯¼íŠ¸ */
      .review-count-badge {
        background: linear-gradient(135deg, #84dbbe 0%, #6dcfb0 100%);
        color: #fff;
        font-size: 0.75rem;
        font-weight: 700;
        padding: 3px 12px;
        border-radius: 999px;
        letter-spacing: 0.03em;
        box-shadow: 0 2px 8px rgba(109, 207, 176, 0.3);
      }

      /* ===========================
         ëŒ€ì‹œë³´ë“œ ìƒë‹¨ í—¤ë” (ê´€ë¦¬ììš©)
         =========================== */
      .dashboard-topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
        padding: 0 4px;
      }

      .dashboard-topbar h2 {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--color-text-primary);
      }

      .dashboard-topbar .admin-badge {
        /* ê´€ë¦¬ì ë°°ì§€ â€” íŒŒìŠ¤í…” ë¼ë²¤ë” ê·¸ë¼ë””ì–¸íŠ¸ */
        background: linear-gradient(135deg, #c9a6f0 0%, #b48de8 100%);
        color: #fff;
        font-size: 0.72rem;
        font-weight: 700;
        padding: 4px 14px;
        border-radius: 999px;
        letter-spacing: 0.04em;
        box-shadow: 0 2px 8px rgba(180, 141, 232, 0.3);
      }

      /* ===========================
         êµ¬ë¶„ì„ 
         =========================== */
      .divider {
        border: none;
        border-top: 1px solid var(--color-border);
        margin: 20px 0;
      }

      /* ===========================
         ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ ì˜ì—­
         =========================== */
      .back-bar {
        margin-bottom: 16px;
      }

      /* ===========================
         í¼ í•˜ë‹¨ ë§í¬ ì˜ì—­
         =========================== */
      .form-footer {
        text-align: center;
        margin-top: 16px;
        font-size: 0.88rem;
        color: var(--color-text-secondary);
      }

      .form-footer .btn--link {
        margin-left: 6px;
      }

      /* ===========================
         ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼)
         =========================== */
      @media (max-width: 480px) {
        body {
          padding: 28px 12px 60px;
        }

        .app-header h1 {
          font-size: 1.6rem;
        }

        .role-select-grid {
          grid-template-columns: 1fr;
          gap: 10px;
        }

        .role-card {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px 18px;
          text-align: left;
        }

        .role-card-icon {
          font-size: 2rem;
          margin-bottom: 0;
          flex-shrink: 0;
        }

        .card-body {
          padding: 18px;
        }

        .form-row {
          grid-template-columns: 1fr 1fr;
        }

        .user-list-table th,
        .user-list-table td {
          padding: 8px 10px;
        }

        .admin-comment-input-row {
          flex-direction: column;
        }

        .date-filter-row {
          flex-direction: column;
          align-items: stretch;
        }
      }

      /* ===========================
         ê³µì§€ì‚¬í•­ ì¹´ë“œ (ì‚¬ìš©ì í™ˆ)
         =========================== */

      /* ê³µì§€ì‚¬í•­ ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜ */
      .notice-date-nav {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 14px;
      }

      .notice-date-nav .notice-nav-btn {
        background: none;
        border: 1.5px solid var(--color-border);
        border-radius: 10px;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: var(--color-primary);
        font-size: 0.85rem;
        transition: all 0.15s ease;
        flex-shrink: 0;
      }

      .notice-date-nav .notice-nav-btn:hover {
        background: var(--color-primary);
        color: #fff;
        border-color: var(--color-primary);
      }

      .notice-date-nav .notice-date-input {
        flex: 1;
        border: 1.5px solid var(--color-border);
        border-radius: 10px;
        padding: 6px 12px;
        font-size: 0.82rem;
        font-weight: 600;
        color: var(--color-primary);
        font-family: 'Nanum Gothic', sans-serif;
        text-align: center;
        background: linear-gradient(135deg, #fdf7ff 0%, #fce8f8 100%);
        outline: none;
        transition: border-color 0.15s ease, box-shadow 0.15s ease;
        cursor: pointer;
      }

      .notice-date-nav .notice-date-input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(180, 141, 232, 0.18);
      }

      .notice-date-nav .btn-notice-today {
        background: var(--color-primary-light);
        border: 1.5px solid var(--color-border);
        border-radius: 10px;
        padding: 6px 12px;
        font-size: 0.72rem;
        font-weight: 700;
        color: var(--color-primary);
        cursor: pointer;
        font-family: inherit;
        transition: all 0.15s ease;
        flex-shrink: 0;
        white-space: nowrap;
      }

      .notice-date-nav .btn-notice-today:hover {
        background: var(--color-primary);
        color: #fff;
      }

      .notice-date-nav .btn-notice-today.hidden {
        display: none;
      }

      /* ê³µì§€ì‚¬í•­ ë‚´ìš© í‘œì‹œ ë°•ìŠ¤ â€” íŒŒìŠ¤í…” ë…¸ë€ ê³„ì—´ */
      .notice-content-box {
        background: linear-gradient(135deg, #fffbee 0%, #fff8e0 100%);
        border: 1.5px solid #f5d88a;
        border-radius: var(--radius-md);
        padding: 16px 18px;
        margin-bottom: 14px;
        line-height: 1.75;
        font-size: 0.97rem;
        color: var(--color-text-primary);
        word-break: break-all;
        white-space: pre-wrap;
      }

      /* ê³µì§€ì‚¬í•­ ì—†ìŒ ì•ˆë‚´ */
      .notice-empty {
        text-align: center;
        padding: 24px 16px;
        color: var(--color-text-muted);
        font-size: 0.88rem;
        line-height: 1.8;
      }

      .notice-empty-icon {
        font-size: 1.8rem;
        display: block;
        margin-bottom: 8px;
      }

      /* í™•ì¸ ì™„ë£Œ ìƒíƒœ ë±ƒì§€ â€” íŒŒìŠ¤í…” ë¯¼íŠ¸ */
      .notice-read-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: linear-gradient(135deg, #edfaf5 0%, #d6f5ea 100%);
        color: #2e8a6e;
        font-size: 0.85rem;
        font-weight: 700;
        padding: 8px 18px;
        border-radius: 999px;
        border: 1.5px solid #a8e8d4;
        width: 100%;
        justify-content: center;
      }

      /* í™•ì¸ ë²„íŠ¼ ë¹„í™œì„±í™” ìƒíƒœ */
      .btn--confirm-done {
        background: #edfaf5;
        color: #2e8a6e;
        border: 1.5px solid #a8e8d4;
        cursor: default;
        opacity: 1;
      }

      .btn--confirm-done:hover {
        transform: none;
        box-shadow: none;
      }

      /* ===========================
         ê´€ë¦¬ì ê³µì§€ì‚¬í•­ ì‘ì„± ì¹´ë“œ
         =========================== */

      /* ê³µì§€ì‚¬í•­ ì…ë ¥ ì˜ì—­ */
      .notice-write-wrap {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      /* ê¸€ì ìˆ˜ ì¹´ìš´í„° (ê³µì§€ì‚¬í•­ìš©) */
      .notice-char-count {
        font-size: 0.78rem;
        color: var(--color-text-muted);
        text-align: right;
        margin-top: -6px;
      }

      .notice-char-count.near-limit {
        color: var(--color-warning);
      }

      .notice-char-count.at-limit {
        color: var(--color-danger);
      }

      /* ===========================
         ê³µì§€ì‚¬í•­ ì—´ëŒì í…Œì´ë¸”
         =========================== */

      /* ì—´ëŒ í˜„í™© ìš”ì•½ í–‰ */
      .reader-summary {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 14px;
        font-size: 0.88rem;
        color: var(--color-text-secondary);
      }

      .reader-count-badge {
        /* íŒŒìŠ¤í…” ë¼ë²¤ë” ë°°ì§€ */
        background: linear-gradient(135deg, #c9a6f0 0%, #b48de8 100%);
        color: #fff;
        font-size: 0.75rem;
        font-weight: 700;
        padding: 3px 12px;
        border-radius: 999px;
        letter-spacing: 0.02em;
        box-shadow: 0 2px 8px rgba(180, 141, 232, 0.3);
      }

      /* ì—´ëŒì í…Œì´ë¸” */
      .reader-list-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.88rem;
        border-radius: var(--radius-sm);
        overflow: hidden;
        border: 1px solid var(--color-border);
      }

      .reader-list-table thead tr {
        background: linear-gradient(135deg, #f5eeff 0%, #fce8f8 100%);
      }

      .reader-list-table th {
        padding: 10px 14px;
        font-weight: 700;
        color: var(--color-primary);
        text-align: left;
        border-bottom: 2px solid #dcc8f5;
        white-space: nowrap;
      }

      .reader-list-table td {
        padding: 10px 14px;
        color: var(--color-text-primary);
        border-bottom: 1px solid var(--color-border);
      }

      .reader-list-table tbody tr:last-child td {
        border-bottom: none;
      }

      .reader-list-table tbody tr:hover {
        background: #f9f2ff;
      }

      /* ì½ì€ ì‹œê° ì…€ â€” ë³´ì¡° ìƒ‰ìƒ */
      .reader-time-cell {
        font-size: 0.8rem;
        color: var(--color-text-secondary);
      }

      /* ì—´ëŒì ì—†ìŒ ì•ˆë‚´ */
      .reader-list-empty {
        text-align: center;
        padding: 24px 16px;
        color: var(--color-text-muted);
        font-size: 0.88rem;
        line-height: 1.8;
      }

      /* ===========================
         ì…ë ¥ì°½ í”ë“¤ë¦¼ ì• ë‹ˆë©”ì´ì…˜
         =========================== */
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        20%       { transform: translateX(-6px); }
        40%       { transform: translateX(6px); }
        60%       { transform: translateX(-4px); }
        80%       { transform: translateX(4px); }
      }

      .input-error-shake {
        animation: shake 0.35s ease;
        /* íŒŒìŠ¤í…” ë ˆë“œ ì—ëŸ¬ í…Œë‘ë¦¬ */
        border-color: #f08080 !important;
      }
    </style>
  </head>
  <body>
    <div class="app-container" id="appContainer">

      <!-- ì•± ê³µí†µ í—¤ë” -->
      <header class="app-header">
        <span class="header-icon">ğŸŒ¸</span>
        <h1>ìš°ë¦¬ ë°˜ í™ˆí˜ì´ì§€ âœ¨</h1>
        <p>íšŒì›ê°€ì… í›„ ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”.</p>
      </header>

      <!-- ==============================
           í™”ë©´ 1: ë©”ì¸ (ì—­í•  ì„ íƒ)
           ============================== -->
      <div class="screen active" id="screenMain">
        <div class="role-select-grid">
          <!-- ê´€ë¦¬ì ë¡œê·¸ì¸ -->
          <div class="role-card" id="btnGoAdminLogin" role="button" tabindex="0" aria-label="ê´€ë¦¬ì ë¡œê·¸ì¸ìœ¼ë¡œ ì´ë™">
            <span class="role-card-icon">ğŸ€</span>
            <div class="role-card-title">ê´€ë¦¬ì ë¡œê·¸ì¸</div>
            <div class="role-card-desc">ê´€ë¦¬ì ì „ìš©<br/>ëŒ€ì‹œë³´ë“œ ì ‘ì†</div>
          </div>
          <!-- ì‚¬ìš©ì ë¡œê·¸ì¸ -->
          <div class="role-card" id="btnGoUserLogin" role="button" tabindex="0" aria-label="ì‚¬ìš©ì ë¡œê·¸ì¸ìœ¼ë¡œ ì´ë™">
            <span class="role-card-icon">ğŸ°</span>
            <div class="role-card-title">ì‚¬ìš©ì ë¡œê·¸ì¸</div>
            <div class="role-card-desc">ì´ë¦„ + ë¹„ë°€ë²ˆí˜¸ë¡œ<br/>ë¡œê·¸ì¸</div>
          </div>
          <!-- íšŒì›ê°€ì… -->
          <div class="role-card" id="btnGoRegister" role="button" tabindex="0" aria-label="íšŒì›ê°€ì…ìœ¼ë¡œ ì´ë™">
            <span class="role-card-icon">ğŸŒŸ</span>
            <div class="role-card-title">íšŒì›ê°€ì…</div>
            <div class="role-card-desc">ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬<br/>íšŒì› ë“±ë¡</div>
          </div>
        </div>
      </div>

      <!-- ==============================
           í™”ë©´ 2: íšŒì›ê°€ì…
           ============================== -->
      <div class="screen" id="screenRegister">
        <div class="back-bar">
          <button class="btn btn--ghost" id="btnBackFromRegister" type="button">
            ğŸŒ¸ ì²˜ìŒìœ¼ë¡œ
          </button>
        </div>
        <div class="card">
          <div class="card-header">
            <h2>ğŸŒŸ íšŒì›ê°€ì…</h2>
            <p>í•™ë…„, ë°˜, ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ íšŒì›ìœ¼ë¡œ ë“±ë¡í•˜ì„¸ìš”.</p>
          </div>
          <div class="card-body">
            <!-- ê°€ì… ê²°ê³¼ ë©”ì‹œì§€ (ê¸°ë³¸ ìˆ¨ê¹€) -->
            <div class="alert" id="registerAlert" style="display: none;" role="alert" aria-live="polite">
              <span class="alert-icon" id="registerAlertIcon"></span>
              <span id="registerAlertMsg"></span>
            </div>

            <!-- í•™ë…„ + ë°˜ ë“œë¡­ë‹¤ìš´ (ë‚˜ë€íˆ) -->
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="registerGrade">í•™ë…„</label>
                <select id="registerGrade" class="form-select" aria-label="í•™ë…„ ì„ íƒ">
                  <option value="">ì„ íƒ</option>
                  <option value="1">1í•™ë…„</option>
                  <option value="2">2í•™ë…„</option>
                  <option value="3">3í•™ë…„</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label" for="registerClass">ë°˜</label>
                <select id="registerClass" class="form-select" aria-label="ë°˜ ì„ íƒ">
                  <option value="">ì„ íƒ</option>
                  <option value="1">1ë°˜</option>
                  <option value="2">2ë°˜</option>
                  <option value="3">3ë°˜</option>
                  <option value="4">4ë°˜</option>
                  <option value="5">5ë°˜</option>
                  <option value="6">6ë°˜</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="registerName">ì´ë¦„</label>
              <input
                type="text"
                id="registerName"
                class="form-input"
                placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                maxlength="20"
                autocomplete="name"
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="registerPassword">ë¹„ë°€ë²ˆí˜¸</label>
              <input
                type="password"
                id="registerPassword"
                class="form-input"
                placeholder="ì‚¬ìš©í•  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                maxlength="50"
                autocomplete="new-password"
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="registerPasswordConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
              <input
                type="password"
                id="registerPasswordConfirm"
                class="form-input"
                placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”"
                maxlength="50"
                autocomplete="new-password"
              />
            </div>

            <button class="btn btn--primary btn--full" id="btnRegisterSubmit" type="button">
              íšŒì›ê°€ì…
            </button>

            <div class="form-footer">
              ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?
              <button class="btn--link" id="btnGoUserLoginFromRegister" type="button">ë¡œê·¸ì¸í•˜ê¸°</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==============================
           í™”ë©´ 3: ì‚¬ìš©ì ë¡œê·¸ì¸
           ============================== -->
      <div class="screen" id="screenUserLogin">
        <div class="back-bar">
          <button class="btn btn--ghost" id="btnBackFromUserLogin" type="button">
            ğŸŒ¸ ì²˜ìŒìœ¼ë¡œ
          </button>
        </div>
        <div class="card">
          <div class="card-header">
            <h2>ğŸ° ì‚¬ìš©ì ë¡œê·¸ì¸</h2>
            <p>ë“±ë¡ëœ ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë¡œê·¸ì¸í•˜ì„¸ìš”.</p>
          </div>
          <div class="card-body">
            <!-- ë¡œê·¸ì¸ ì—ëŸ¬ ë©”ì‹œì§€ (ê¸°ë³¸ ìˆ¨ê¹€) -->
            <div class="alert alert--error" id="userLoginAlert" style="display: none;" role="alert" aria-live="polite">
              <span class="alert-icon">âš ï¸</span>
              <span id="userLoginAlertMsg"></span>
            </div>

            <div class="form-group">
              <label class="form-label" for="userLoginName">ì´ë¦„</label>
              <input
                type="text"
                id="userLoginName"
                class="form-input"
                placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                maxlength="20"
                autocomplete="name"
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="userLoginPassword">ë¹„ë°€ë²ˆí˜¸</label>
              <input
                type="password"
                id="userLoginPassword"
                class="form-input"
                placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                maxlength="50"
                autocomplete="current-password"
              />
            </div>

            <button class="btn btn--primary btn--full" id="btnUserLoginSubmit" type="button">
              ë¡œê·¸ì¸
            </button>

            <div class="form-footer">
              ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?
              <button class="btn--link" id="btnGoRegisterFromLogin" type="button">íšŒì›ê°€ì…í•˜ê¸°</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==============================
           í™”ë©´ 4: ì‚¬ìš©ì í™ˆ
           ============================== -->
      <div class="screen" id="screenUserHome">
        <!-- í†µí•© ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
        <nav class="user-navbar">
          <!-- ì™¼ìª½: íƒ­ ë©”ë‰´ -->
          <div class="user-navbar-tabs" role="tablist">
            <button class="nav-home" id="btnNavHome" type="button">ğŸ  ìš°ë¦¬ë°˜</button>
            <button role="tab" id="tabNotice" class="active" aria-selected="true" aria-controls="tabContentNotice">ğŸ“¢ ê³µì§€ì‚¬í•­</button>
            <button role="tab" id="tabReview" aria-selected="false" aria-controls="tabContentReview">ğŸŒˆ í•œì¤„í‰</button>
          </div>
          <!-- ì˜¤ë¥¸ìª½: ì´ë¦„ + ë¡œê·¸ì•„ì›ƒ ì•„ì´ì½˜ -->
          <div class="user-navbar-user">
            <span class="navbar-username" id="navbarUserName">í™ê¸¸ë™</span>
            <button class="btn--logout-icon" id="btnUserLogout" type="button" title="ë¡œê·¸ì•„ì›ƒ" aria-label="ë¡œê·¸ì•„ì›ƒ">
              <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            </button>
          </div>
        </nav>

        <!-- íƒ­ ì½˜í…ì¸ : ê³µì§€ì‚¬í•­ -->
        <div class="user-tab-content active" id="tabContentNotice" role="tabpanel" aria-labelledby="tabNotice">
          <div class="card" id="userNoticeCard">
            <div class="card-header">
              <h2>ğŸ“¢ ê³µì§€ì‚¬í•­</h2>
              <p>ì„ ìƒë‹˜ì´ ë“±ë¡í•œ ê³µì§€ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>
            <div class="card-body">
              <!-- ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜ -->
              <div class="notice-date-nav">
                <button class="notice-nav-btn" id="btnNoticePrev" type="button" title="ì´ì „ ë‚ ">â—€</button>
                <input type="date" class="notice-date-input" id="noticeDateInput" />
                <button class="notice-nav-btn" id="btnNoticeNext" type="button" title="ë‹¤ìŒ ë‚ ">â–¶</button>
                <button class="btn-notice-today" id="btnNoticeToday" type="button">ì˜¤ëŠ˜</button>
              </div>
              <!-- ê³µì§€ì‚¬í•­ ë‚´ìš© (JSì—ì„œ ë™ì ìœ¼ë¡œ ì±„ì›€) -->
              <div id="userNoticeCardBody"></div>
            </div>
          </div>
        </div>

        <!-- íƒ­ ì½˜í…ì¸ : ì˜¤ëŠ˜ì˜ í•œì¤„í‰ (ë‹¤ì´ì–´ë¦¬ ìŠ¤íƒ€ì¼) -->
        <div class="user-tab-content" id="tabContentReview" role="tabpanel" aria-labelledby="tabReview">
          <div class="diary-layout">
            <!-- ìƒë‹¨: ì›”/ì—°ë„ í—¤ë” + ë„¤ë¹„ê²Œì´ì…˜ -->
            <div class="diary-header">
              <div class="header-left">
                <button class="diary-nav-btn" id="btnDiaryPrev" type="button" title="ì´ì „ ë‹¬">â—€</button>
                <span class="month-num" id="diaryMonthNum"></span>
                <div class="month-detail">
                  <span class="month-eng" id="diaryMonthEng"></span>
                  <span class="month-year" id="diaryMonthYear"></span>
                </div>
                <button class="diary-nav-btn" id="btnDiaryNext" type="button" title="ë‹¤ìŒ ë‹¬">â–¶</button>
              </div>
              <button class="btn-today" id="btnDiaryToday" type="button">ì˜¤ëŠ˜</button>
            </div>

            <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
            <div class="diary-alert-wrap">
              <div class="alert" id="reviewWriteAlert" style="display: none;" role="alert" aria-live="polite">
                <span class="alert-icon" id="reviewWriteAlertIcon"></span>
                <span id="reviewWriteAlertMsg"></span>
              </div>
            </div>

            <!-- ë‚ ì§œë³„ ì¤„ë…¸íŠ¸ (JSì—ì„œ ë™ì  ìƒì„±) -->
            <div class="diary-rows" id="diaryRows"></div>
          </div>
        </div>
      </div>

      <!-- ==============================
           í™”ë©´ 5: ê´€ë¦¬ì ë¡œê·¸ì¸
           ============================== -->
      <div class="screen" id="screenAdminLogin">
        <div class="back-bar">
          <button class="btn btn--ghost" id="btnBackFromAdminLogin" type="button">
            ğŸŒ¸ ì²˜ìŒìœ¼ë¡œ
          </button>
        </div>
        <div class="card">
          <div class="card-header">
            <h2>ğŸ€ ê´€ë¦¬ì ë¡œê·¸ì¸</h2>
            <p>ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•˜ì„¸ìš”.</p>
          </div>
          <div class="card-body">
            <!-- ë¡œê·¸ì¸ ì—ëŸ¬ ë©”ì‹œì§€ (ê¸°ë³¸ ìˆ¨ê¹€) -->
            <div class="alert alert--error" id="adminLoginError" style="display: none;" role="alert" aria-live="polite">
              <span class="alert-icon">âš ï¸</span>
              <span id="adminLoginErrorMsg">ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
            </div>

            <div class="form-group">
              <label class="form-label" for="adminPasswordInput">ë¹„ë°€ë²ˆí˜¸</label>
              <input
                type="password"
                id="adminPasswordInput"
                class="form-input"
                placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                autocomplete="current-password"
                maxlength="50"
              />
            </div>

            <button class="btn btn--primary btn--full" id="btnAdminLogin" type="button">
              ë¡œê·¸ì¸
            </button>
          </div>
        </div>
      </div>

      <!-- ==============================
           í™”ë©´ 6: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
           ============================== -->
      <div class="screen" id="screenAdminDashboard">
        <!-- ê´€ë¦¬ì í†µí•© ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
        <nav class="user-navbar">
          <div class="user-navbar-tabs" role="tablist">
            <button class="nav-home" id="btnAdminNavHome" type="button">ğŸ  ìš°ë¦¬ë°˜</button>
            <button role="tab" id="adminTabUsers" class="active" aria-selected="true" aria-controls="adminTabContentUsers">ğŸ¥ ì‚¬ìš©ì</button>
            <button role="tab" id="adminTabNotice" aria-selected="false" aria-controls="adminTabContentNotice">ğŸ“¢ ê³µì§€</button>
            <button role="tab" id="adminTabReview" aria-selected="false" aria-controls="adminTabContentReview">ğŸ“ í•œì¤„í‰</button>
          </div>
          <div class="user-navbar-user">
            <span class="navbar-username">ê´€ë¦¬ì</span>
            <button class="btn--logout-icon" id="btnAdminLogout" type="button" title="ë¡œê·¸ì•„ì›ƒ" aria-label="ë¡œê·¸ì•„ì›ƒ">
              <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            </button>
          </div>
        </nav>

        <!-- íƒ­ ì½˜í…ì¸ : ì‚¬ìš©ì ëª©ë¡ -->
        <div class="user-tab-content active" id="adminTabContentUsers" role="tabpanel" aria-labelledby="adminTabUsers">
          <div class="card">
            <div class="card-header">
              <h2>ğŸ¥ ê°€ì… ì‚¬ìš©ì ëª©ë¡</h2>
              <p>í˜„ì¬ ì‹œìŠ¤í…œì— ë“±ë¡ëœ ëª¨ë“  ì‚¬ìš©ì ëª©ë¡ì…ë‹ˆë‹¤. í•™ë…„ Â· ë°˜ ìˆœìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤.</p>
            </div>
            <div class="card-body" style="padding: 20px 24px;">
              <div class="section-title">
                <span>ë“±ë¡ ì‚¬ìš©ì</span>
                <span class="user-count-badge" id="userCountBadge">0ëª…</span>
              </div>
              <div id="userListContainer"></div>
            </div>
          </div>
        </div>

        <!-- íƒ­ ì½˜í…ì¸ : ê³µì§€ì‚¬í•­ -->
        <div class="user-tab-content" id="adminTabContentNotice" role="tabpanel" aria-labelledby="adminTabNotice">
          <div class="card">
            <div class="card-header">
              <h2>ğŸ“¢ ì˜¤ëŠ˜ì˜ ê³µì§€ì‚¬í•­ ì‘ì„±</h2>
              <p>ì˜¤ëŠ˜ í•˜ë£¨ í•™ìƒë“¤ì—ê²Œ ì „ë‹¬í•  ê³µì§€ì‚¬í•­ì„ ì‘ì„±í•˜ì„¸ìš”. ë‚ ì§œê°€ ë°”ë€Œë©´ ìƒˆ ê³µì§€ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="card-body">
              <div class="today-badge" id="adminNoticeDateBadge">
                <span>ğŸ“…</span>
                <span id="adminNoticeDateText">ì˜¤ëŠ˜</span>
              </div>
              <div class="alert" id="noticeWriteAlert" style="display: none;" role="alert" aria-live="polite">
                <span class="alert-icon" id="noticeWriteAlertIcon"></span>
                <span id="noticeWriteAlertMsg"></span>
              </div>
              <div class="notice-write-wrap">
                <div class="form-group" style="margin-bottom: 4px;">
                  <textarea
                    id="noticeContentInput"
                    class="form-textarea"
                    placeholder="ê³µì§€ì‚¬í•­ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. (ìµœëŒ€ 300ì)"
                    maxlength="300"
                    rows="4"
                  ></textarea>
                </div>
                <div class="notice-char-count" id="noticeCharCount">0 / 300ì</div>
                <button class="btn btn--primary btn--full" id="btnSaveNotice" type="button" style="margin-top: 6px;">
                  ê³µì§€ì‚¬í•­ ì €ì¥
                </button>
              </div>
            </div>
          </div>

          <!-- ê³µì§€ì‚¬í•­ ì—´ëŒì í™•ì¸ ì¹´ë“œ -->
          <div class="card">
            <div class="card-header">
              <h2>ğŸ‘€ ì˜¤ëŠ˜ì˜ ì—´ëŒì í™•ì¸</h2>
              <p>ì˜¤ëŠ˜ ê³µì§€ì‚¬í•­ì„ í™•ì¸í•œ í•™ìƒ ëª©ë¡ì…ë‹ˆë‹¤.</p>
            </div>
            <div class="card-body" style="padding: 20px 24px;">
              <div id="noticeReaderContainer"></div>
            </div>
          </div>
        </div>

        <!-- íƒ­ ì½˜í…ì¸ : í•œì¤„í‰ ê´€ë¦¬ -->
        <div class="user-tab-content" id="adminTabContentReview" role="tabpanel" aria-labelledby="adminTabReview">
          <div class="card">
            <div class="card-header">
              <h2>ğŸ“ í•œì¤„í‰ ê´€ë¦¬</h2>
              <p>ë‚ ì§œë¥¼ ì„ íƒí•˜ì—¬ í•´ë‹¹ ë‚ ì— ì‘ì„±ëœ ëª¨ë“  í•™ìƒì˜ í•œì¤„í‰ì„ í™•ì¸í•˜ê³  í‰ê°€ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="card-body" style="padding: 20px 24px;">
              <div class="date-filter-row">
                <input
                  type="date"
                  id="adminReviewDateFilter"
                  class="form-input"
                  aria-label="ì¡°íšŒí•  ë‚ ì§œ ì„ íƒ"
                />
                <button class="btn btn--secondary btn--sm" id="btnFilterReviews" type="button">
                  ì¡°íšŒ
                </button>
              </div>
              <div class="section-title">
                <span id="adminReviewDateLabel">ì„ íƒëœ ë‚ ì§œì˜ í•œì¤„í‰</span>
                <span class="review-count-badge" id="adminReviewCountBadge">0ê±´</span>
              </div>
              <div id="adminReviewListContainer"></div>
            </div>
          </div>
        </div>
      </div>

    </div><!-- /.app-container -->

    <script>
      // =========================================
      // ìƒìˆ˜ ë° ì„¤ì •
      // =========================================

      /**
       * ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê²€ì¦ì´ë¯€ë¡œ ë³´ì•ˆ í•œê³„ ìˆìŒ.
       * ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì„œë²„ ì¸¡ ì¸ì¦ìœ¼ë¡œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤.)
       */
      const ADMIN_PASSWORD = 'admin1234';

      /** localStorage í‚¤: ê°€ì… ì‚¬ìš©ì ë°°ì—´ */
      const USERS_STORAGE_KEY = 'auth-system-users';

      /** localStorage í‚¤: í•œì¤„í‰ ë°°ì—´ */
      const REVIEWS_STORAGE_KEY = 'auth-system-reviews';

      /** localStorage í‚¤: ê³µì§€ì‚¬í•­ ë°°ì—´ */
      const NOTICES_STORAGE_KEY = 'auth-system-notices';

      /** ê³µì§€ì‚¬í•­ ìµœëŒ€ ê¸€ì ìˆ˜ */
      const NOTICE_MAX_LENGTH = 300;

      /** í•œì¤„í‰ ìµœëŒ€ ê¸€ì ìˆ˜ */
      const REVIEW_MAX_LENGTH = 100;

      /**
       * í™”ë©´ ID ëª©ë¡ â€” ìƒíƒœ ë¨¸ì‹ (State Machine)ìœ¼ë¡œ í™”ë©´ ì „í™˜ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
       * ê° ê°’ì€ ì‹¤ì œ DOM ìš”ì†Œì˜ id ì†ì„±ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.
       */
      const SCREENS = {
        MAIN: 'screenMain',
        REGISTER: 'screenRegister',
        USER_LOGIN: 'screenUserLogin',
        USER_HOME: 'screenUserHome',
        ADMIN_LOGIN: 'screenAdminLogin',
        ADMIN_DASHBOARD: 'screenAdminDashboard',
      };

      /** í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì (ì„¸ì…˜ ë©”ëª¨ë¦¬) */
      let currentUser = null;

      // =========================================
      // ë‚ ì§œ ìœ í‹¸ë¦¬í‹°
      // =========================================

      /**
       * ì˜¤ëŠ˜ ë‚ ì§œë¥¼ 'YYYY-MM-DD' í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @returns {string}
       */
      function getTodayKey() {
        const now = new Date();
        const y = now.getFullYear();
        const m = String(now.getMonth() + 1).padStart(2, '0');
        const d = String(now.getDate()).padStart(2, '0');
        return `${y}-${m}-${d}`;
      }

      /**
       * 'YYYY-MM-DD' í˜•ì‹ì˜ ë‚ ì§œ ë¬¸ìì—´ì„ í•œêµ­ì–´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
       * @param {string} dateKey
       * @returns {string} ì˜ˆ: "2026ë…„ 2ì›” 21ì¼"
       */
      function formatDateKorean(dateKey) {
        const [y, m, d] = dateKey.split('-');
        return `${y}ë…„ ${Number(m)}ì›” ${Number(d)}ì¼`;
      }

      // =========================================
      // ì‚¬ìš©ì ìŠ¤í† ë¦¬ì§€ ë ˆì´ì–´
      // =========================================

      /**
       * localStorageì—ì„œ ê°€ì… ì‚¬ìš©ì ë°°ì—´ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
       * @returns {Array<{ id: string, grade: string, classNum: string, name: string, password: string }>}
       */
      function loadUsersFromStorage() {
        try {
          const raw = localStorage.getItem(USERS_STORAGE_KEY);
          if (!raw) return [];
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [];
        } catch {
          return [];
        }
      }

      /**
       * ì‚¬ìš©ì ë°°ì—´ì„ localStorageì— ì €ì¥í•©ë‹ˆë‹¤.
       * @param {Array} users
       */
      function saveUsersToStorage(users) {
        try {
          localStorage.setItem(USERS_STORAGE_KEY, JSON.stringify(users));
        } catch {
          console.warn('ì‚¬ìš©ì ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      }

      /**
       * ìƒˆ ì‚¬ìš©ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
       * ë™ì¼í•œ ì´ë¦„ì´ ì´ë¯¸ ì¡´ì¬í•˜ë©´ ì‹¤íŒ¨ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
       *
       * @param {{ grade: string, classNum: string, name: string, password: string }} userData
       * @returns {{ success: boolean, reason?: string }}
       */
      function registerUser(userData) {
        const users = loadUsersFromStorage();

        // ì¤‘ë³µ ì´ë¦„ ê²€ì‚¬ (ì´ë¦„ìœ¼ë¡œë§Œ ì‹ë³„ â€” ê°™ì€ ì´ë¦„ì€ í—ˆìš©í•˜ì§€ ì•ŠìŒ)
        const isDuplicate = users.some(
          (u) => u.name.trim() === userData.name.trim()
        );
        if (isDuplicate) {
          return { success: false, reason: 'duplicate' };
        }

        const newUser = {
          id: Date.now().toString(),
          grade: userData.grade,
          classNum: userData.classNum,
          name: userData.name.trim(),
          password: userData.password,
        };

        users.push(newUser);
        saveUsersToStorage(users);
        return { success: true };
      }

      /**
       * ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‚¬ìš©ìë¥¼ ì°¾ì•„ ë°˜í™˜í•©ë‹ˆë‹¤.
       *
       * @param {string} name
       * @param {string} password
       * @returns {{ success: boolean, user?: object }}
       */
      function authenticateUser(name, password) {
        const users = loadUsersFromStorage();
        const matched = users.find(
          (u) => u.name.trim() === name.trim() && u.password === password
        );
        if (matched) return { success: true, user: matched };
        return { success: false };
      }

      /**
       * ê°€ì… ì‚¬ìš©ì ëª©ë¡ì„ í•™ë…„ â†’ ë°˜ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @returns {Array}
       */
      function getSortedUsers() {
        const users = loadUsersFromStorage();
        return users.slice().sort((a, b) => {
          const gradeDiff = Number(a.grade) - Number(b.grade);
          if (gradeDiff !== 0) return gradeDiff;
          return Number(a.classNum) - Number(b.classNum);
        });
      }

      // =========================================
      // ê³µì§€ì‚¬í•­ ìŠ¤í† ë¦¬ì§€ ë ˆì´ì–´
      // =========================================

      /**
       * localStorageì—ì„œ ê³µì§€ì‚¬í•­ ë°°ì—´ ì „ì²´ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
       * @returns {Array<{
       *   id: string,
       *   dateKey: string,
       *   content: string,
       *   createdAt: string,
       *   readers: Array<{ userId: string, userName: string, userGrade: string, userClass: string, readAt: string }>
       * }>}
       */
      function loadNoticesFromStorage() {
        try {
          const raw = localStorage.getItem(NOTICES_STORAGE_KEY);
          if (!raw) return [];
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [];
        } catch {
          return [];
        }
      }

      /**
       * ê³µì§€ì‚¬í•­ ë°°ì—´ì„ localStorageì— ì €ì¥í•©ë‹ˆë‹¤.
       * @param {Array} notices
       */
      function saveNoticesToStorage(notices) {
        try {
          localStorage.setItem(NOTICES_STORAGE_KEY, JSON.stringify(notices));
        } catch {
          console.warn('ê³µì§€ì‚¬í•­ ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      }

      /**
       * íŠ¹ì • ë‚ ì§œì˜ ê³µì§€ì‚¬í•­ì„ ì°¾ì•„ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @returns {object|null}
       */
      function findNoticeByDate(dateKey) {
        const notices = loadNoticesFromStorage();
        return notices.find((n) => n.dateKey === dateKey) || null;
      }

      /**
       * ê³µì§€ì‚¬í•­ì„ ì €ì¥í•˜ê±°ë‚˜ ìˆ˜ì •í•©ë‹ˆë‹¤.
       * ê°™ì€ ë‚ ì§œì˜ ê³µì§€ì‚¬í•­ì´ ì´ë¯¸ ìˆìœ¼ë©´ ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³ ,
       * ì—†ìœ¼ë©´ ìƒˆë¡œ ì¶”ê°€í•©ë‹ˆë‹¤. ê¸°ì¡´ ì—´ëŒì ëª©ë¡ì€ ë³´ì¡´í•©ë‹ˆë‹¤.
       *
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @param {string} content
       * @returns {{ success: boolean, isUpdate: boolean }}
       */
      function upsertNotice(dateKey, content) {
        const notices = loadNoticesFromStorage();
        const existingIndex = notices.findIndex((n) => n.dateKey === dateKey);

        if (existingIndex !== -1) {
          // ê¸°ì¡´ ê³µì§€ì‚¬í•­ ìˆ˜ì • (ì—´ëŒì ëª©ë¡ì€ ê·¸ëŒ€ë¡œ ìœ ì§€)
          notices[existingIndex] = {
            ...notices[existingIndex],
            content: content.trim(),
            updatedAt: new Date().toISOString(),
          };
          saveNoticesToStorage(notices);
          return { success: true, isUpdate: true };
        }

        // ìƒˆ ê³µì§€ì‚¬í•­ ì¶”ê°€
        const newNotice = {
          id: Date.now().toString(),
          dateKey: dateKey,
          content: content.trim(),
          createdAt: new Date().toISOString(),
          readers: [],
        };
        notices.push(newNotice);
        saveNoticesToStorage(notices);
        return { success: true, isUpdate: false };
      }

      /**
       * íŠ¹ì • ì‚¬ìš©ìê°€ íŠ¹ì • ë‚ ì§œì˜ ê³µì§€ì‚¬í•­ì„ ì´ë¯¸ ì½ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @param {string} userId
       * @returns {boolean}
       */
      function hasReadNotice(dateKey, userId) {
        const notice = findNoticeByDate(dateKey);
        if (!notice) return false;
        return notice.readers.some((r) => r.userId === userId);
      }

      /**
       * ì‚¬ìš©ìê°€ ê³µì§€ì‚¬í•­ì„ ì½ì—ˆìŒì„ ê¸°ë¡í•©ë‹ˆë‹¤.
       * ì´ë¯¸ ì½ì€ ê²½ìš°ì—ëŠ” ì¤‘ë³µ ê¸°ë¡í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
       *
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @param {{ id: string, name: string, grade: string, classNum: string }} user
       * @returns {boolean} ì„±ê³µ ì—¬ë¶€
       */
      function markNoticeAsRead(dateKey, user) {
        const notices = loadNoticesFromStorage();
        const idx = notices.findIndex((n) => n.dateKey === dateKey);
        if (idx === -1) return false;

        // ì¤‘ë³µ í™•ì¸: ì´ë¯¸ ì½ì€ ê²½ìš° ë¬´ì‹œ
        const alreadyRead = notices[idx].readers.some((r) => r.userId === user.id);
        if (alreadyRead) return true;

        notices[idx].readers.push({
          userId:    user.id,
          userName:  user.name,
          userGrade: user.grade,
          userClass: user.classNum,
          readAt:    new Date().toISOString(),
        });
        saveNoticesToStorage(notices);
        return true;
      }

      // =========================================
      // í•œì¤„í‰ ìŠ¤í† ë¦¬ì§€ ë ˆì´ì–´
      // =========================================

      /**
       * localStorageì—ì„œ í•œì¤„í‰ ë°°ì—´ ì „ì²´ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
       * @returns {Array<{
       *   id: string,
       *   userId: string,
       *   userName: string,
       *   userGrade: string,
       *   userClass: string,
       *   dateKey: string,
       *   content: string,
       *   adminComment: string,
       *   createdAt: string
       * }>}
       */
      function loadReviewsFromStorage() {
        try {
          const raw = localStorage.getItem(REVIEWS_STORAGE_KEY);
          if (!raw) return [];
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [];
        } catch {
          return [];
        }
      }

      /**
       * í•œì¤„í‰ ë°°ì—´ì„ localStorageì— ì €ì¥í•©ë‹ˆë‹¤.
       * @param {Array} reviews
       */
      function saveReviewsToStorage(reviews) {
        try {
          localStorage.setItem(REVIEWS_STORAGE_KEY, JSON.stringify(reviews));
        } catch {
          console.warn('í•œì¤„í‰ ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      }

      /**
       * íŠ¹ì • ì‚¬ìš©ìì˜ íŠ¹ì • ë‚ ì§œ í•œì¤„í‰ì„ ì°¾ì•„ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @param {string} userId
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @returns {object|null}
       */
      function findReview(userId, dateKey) {
        const reviews = loadReviewsFromStorage();
        return reviews.find((r) => r.userId === userId && r.dateKey === dateKey) || null;
      }

      /**
       * í•œì¤„í‰ì„ ì €ì¥í•˜ê±°ë‚˜ ìˆ˜ì •í•©ë‹ˆë‹¤.
       * - ê°™ì€ ì‚¬ìš©ìì˜ ê°™ì€ ë‚ ì§œ í•œì¤„í‰ì´ ì´ë¯¸ ìˆìœ¼ë©´ ë‚´ìš©ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
       * - ì—†ìœ¼ë©´ ìƒˆë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.
       *
       * @param {{ userId: string, userName: string, userGrade: string, userClass: string, dateKey: string, content: string }} reviewData
       * @returns {{ success: boolean, isUpdate: boolean }}
       */
      function upsertReview(reviewData) {
        const reviews = loadReviewsFromStorage();
        const existingIndex = reviews.findIndex(
          (r) => r.userId === reviewData.userId && r.dateKey === reviewData.dateKey
        );

        if (existingIndex !== -1) {
          // ê¸°ì¡´ í•œì¤„í‰ ìˆ˜ì • (ê´€ë¦¬ì í‰ê°€ ì½”ë©˜íŠ¸ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€)
          reviews[existingIndex] = {
            ...reviews[existingIndex],
            content: reviewData.content,
            updatedAt: new Date().toISOString(),
          };
          saveReviewsToStorage(reviews);
          return { success: true, isUpdate: true };
        }

        // ìƒˆ í•œì¤„í‰ ì¶”ê°€
        const newReview = {
          id: Date.now().toString(),
          userId: reviewData.userId,
          userName: reviewData.userName,
          userGrade: reviewData.userGrade,
          userClass: reviewData.userClass,
          dateKey: reviewData.dateKey,
          content: reviewData.content,
          adminComment: '',
          createdAt: new Date().toISOString(),
        };
        reviews.push(newReview);
        saveReviewsToStorage(reviews);
        return { success: true, isUpdate: false };
      }

      /**
       * ê´€ë¦¬ì í‰ê°€ ì½”ë©˜íŠ¸ë¥¼ íŠ¹ì • í•œì¤„í‰(id)ì— ì €ì¥í•©ë‹ˆë‹¤.
       * @param {string} reviewId
       * @param {string} comment
       * @returns {boolean} ì„±ê³µ ì—¬ë¶€
       */
      function saveAdminComment(reviewId, comment) {
        const reviews = loadReviewsFromStorage();
        const idx = reviews.findIndex((r) => r.id === reviewId);
        if (idx === -1) return false;

        reviews[idx].adminComment = comment.trim();
        reviews[idx].commentedAt = new Date().toISOString();
        saveReviewsToStorage(reviews);
        return true;
      }

      /**
       * íŠ¹ì • ì‚¬ìš©ìì˜ í•œì¤„í‰ì„ ìµœê·¼ìˆœìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @param {string} userId
       * @returns {Array}
       */
      function getReviewsByUser(userId) {
        const reviews = loadReviewsFromStorage();
        return reviews
          .filter((r) => r.userId === userId)
          .sort((a, b) => b.dateKey.localeCompare(a.dateKey));
      }

      /**
       * íŠ¹ì • ë‚ ì§œì˜ ëª¨ë“  í•œì¤„í‰ì„ í•™ë…„ â†’ ë°˜ â†’ ì´ë¦„ ìˆœìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @returns {Array}
       */
      function getReviewsByDate(dateKey) {
        const reviews = loadReviewsFromStorage();
        return reviews
          .filter((r) => r.dateKey === dateKey)
          .sort((a, b) => {
            const gradeDiff = Number(a.userGrade) - Number(b.userGrade);
            if (gradeDiff !== 0) return gradeDiff;
            const classDiff = Number(a.userClass) - Number(b.userClass);
            if (classDiff !== 0) return classDiff;
            return a.userName.localeCompare(b.userName);
          });
      }

      // =========================================
      // í™”ë©´ ì „í™˜ (ìƒíƒœ ë¨¸ì‹ )
      // =========================================

      /**
       * ì§€ì •í•œ í™”ë©´ìœ¼ë¡œ ì „í™˜í•©ë‹ˆë‹¤.
       * ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í™”ë©´ì—ì„œëŠ” ì»¨í…Œì´ë„ˆ ë„ˆë¹„ë¥¼ ë„“í™ë‹ˆë‹¤.
       * @param {string} screenId - SCREENS ìƒìˆ˜ ì¤‘ í•˜ë‚˜ì˜ ê°’
       */
      function navigateTo(screenId) {
        Object.values(SCREENS).forEach((id) => {
          const el = document.getElementById(id);
          if (el) el.classList.remove('active');
        });
        const targetEl = document.getElementById(screenId);
        if (targetEl) targetEl.classList.add('active');

        // ë¡œê·¸ì¸ í›„ í™”ë©´(ì‚¬ìš©ì í™ˆ, ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ)ì—ì„œ ì»¨í…Œì´ë„ˆ ë„“ê²Œ
        const container = document.getElementById('appContainer');
        if (screenId === SCREENS.USER_HOME || screenId === SCREENS.ADMIN_DASHBOARD) {
          container.classList.add('wide');
        } else {
          container.classList.remove('wide');
        }

        // ë¡œê·¸ì¸ ìƒíƒœ(ì‚¬ìš©ì í™ˆ, ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ)ì—ì„œëŠ” ì•± í—¤ë” ìˆ¨ê¹€
        const appHeader = document.querySelector('.app-header');
        if (screenId === SCREENS.USER_HOME || screenId === SCREENS.ADMIN_DASHBOARD) {
          appHeader.style.display = 'none';
        } else {
          appHeader.style.display = '';
        }
      }

      // =========================================
      // ê³µí†µ ìœ í‹¸: ì…ë ¥ ì—ëŸ¬ í”ë“¤ê¸° / ì•Œë¦¼ í‘œì‹œ
      // =========================================

      /**
       * ì§€ì •ëœ input/select ìš”ì†Œì— í”ë“¤ë¦¼ ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©í•©ë‹ˆë‹¤.
       * @param {HTMLElement} el
       */
      function shakeElement(el) {
        el.classList.add('input-error-shake');
        setTimeout(() => el.classList.remove('input-error-shake'), 400);
      }

      /**
       * ì•Œë¦¼ ë°•ìŠ¤ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
       * @param {string} alertElId - alert ë˜í¼ ìš”ì†Œ id
       * @param {string} iconElId  - ì•„ì´ì½˜ span id
       * @param {string} msgElId   - ë©”ì‹œì§€ span id
       * @param {'success'|'error'|'warning'|'info'} type
       * @param {string} icon
       * @param {string} message
       */
      function showAlert(alertElId, iconElId, msgElId, type, icon, message) {
        const alertEl = document.getElementById(alertElId);
        const iconEl  = document.getElementById(iconElId);
        const msgEl   = document.getElementById(msgElId);
        alertEl.className = `alert alert--${type}`;
        iconEl.textContent  = icon;
        msgEl.textContent   = message;
        alertEl.style.display = 'flex';
      }

      /**
       * ì•Œë¦¼ ë°•ìŠ¤ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤.
       * @param {string} alertElId
       */
      function hideAlert(alertElId) {
        const alertEl = document.getElementById(alertElId);
        if (alertEl) alertEl.style.display = 'none';
      }

      // =========================================
      // íšŒì›ê°€ì… í™”ë©´ í•¸ë“¤ëŸ¬
      // =========================================

      /**
       * íšŒì›ê°€ì… í¼ì„ ì´ˆê¸° ìƒíƒœë¡œ ë¦¬ì…‹í•©ë‹ˆë‹¤.
       */
      function resetRegisterForm() {
        document.getElementById('registerGrade').value = '';
        document.getElementById('registerClass').value = '';
        document.getElementById('registerName').value = '';
        document.getElementById('registerPassword').value = '';
        document.getElementById('registerPasswordConfirm').value = '';
        hideAlert('registerAlert');
      }

      /**
       * íšŒì›ê°€ì… ì œì¶œì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
       * ìœ íš¨ì„± ê²€ì‚¬ â†’ ì¤‘ë³µ ê²€ì‚¬ â†’ ì €ì¥ ìˆœìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.
       */
      function handleRegisterSubmit() {
        const gradeEl    = document.getElementById('registerGrade');
        const classEl    = document.getElementById('registerClass');
        const nameEl     = document.getElementById('registerName');
        const pwEl       = document.getElementById('registerPassword');
        const pwConfEl   = document.getElementById('registerPasswordConfirm');

        const grade    = gradeEl.value;
        const classNum = classEl.value;
        const name     = nameEl.value.trim();
        const password = pwEl.value;
        const pwConf   = pwConfEl.value;

        // --- ìœ íš¨ì„± ê²€ì‚¬ ---
        if (!grade) {
          shakeElement(gradeEl);
          showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', 'í•™ë…„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
          gradeEl.focus();
          return;
        }
        if (!classNum) {
          shakeElement(classEl);
          showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', 'ë°˜ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
          classEl.focus();
          return;
        }
        if (!name) {
          shakeElement(nameEl);
          showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          nameEl.focus();
          return;
        }
        if (!password) {
          shakeElement(pwEl);
          showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          pwEl.focus();
          return;
        }
        if (password.length < 4) {
          shakeElement(pwEl);
          showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', 'ë¹„ë°€ë²ˆí˜¸ëŠ” 4ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
          pwEl.focus();
          return;
        }
        if (password !== pwConf) {
          shakeElement(pwConfEl);
          showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.');
          pwConfEl.value = '';
          pwConfEl.focus();
          return;
        }

        // --- ë„ë©”ì¸ ë¡œì§: ë“±ë¡ ---
        const result = registerUser({ grade, classNum, name, password });

        if (!result.success) {
          if (result.reason === 'duplicate') {
            shakeElement(nameEl);
            showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'error', 'âš ï¸', `"${name}" ì´ë¦„ìœ¼ë¡œ ì´ë¯¸ ê°€ì…ëœ ê³„ì •ì´ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.`);
            nameEl.focus();
          }
          return;
        }

        // --- ê°€ì… ì„±ê³µ ---
        showAlert('registerAlert', 'registerAlertIcon', 'registerAlertMsg', 'success', 'âœ…', `ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ${grade}í•™ë…„ ${classNum}ë°˜ ${name} ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!`);
        // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™” (ì•Œë¦¼ ë©”ì‹œì§€ëŠ” ìœ ì§€)
        gradeEl.value = '';
        classEl.value = '';
        nameEl.value = '';
        pwEl.value = '';
        pwConfEl.value = '';
      }

      // =========================================
      // ì‚¬ìš©ì ë¡œê·¸ì¸ í™”ë©´ í•¸ë“¤ëŸ¬
      // =========================================

      /**
       * ì‚¬ìš©ì ë¡œê·¸ì¸ í¼ì„ ì´ˆê¸° ìƒíƒœë¡œ ë¦¬ì…‹í•©ë‹ˆë‹¤.
       */
      function resetUserLoginForm() {
        document.getElementById('userLoginName').value = '';
        document.getElementById('userLoginPassword').value = '';
        hideAlert('userLoginAlert');
      }

      /**
       * ì‚¬ìš©ì ë¡œê·¸ì¸ ì œì¶œì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
       * ì„±ê³µ ì‹œ ì‚¬ìš©ì í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
       */
      function handleUserLoginSubmit() {
        const nameEl = document.getElementById('userLoginName');
        const pwEl   = document.getElementById('userLoginPassword');

        const name     = nameEl.value.trim();
        const password = pwEl.value;

        if (!name) {
          shakeElement(nameEl);
          document.getElementById('userLoginAlertMsg').textContent = 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
          document.getElementById('userLoginAlert').style.display = 'flex';
          nameEl.focus();
          return;
        }
        if (!password) {
          shakeElement(pwEl);
          document.getElementById('userLoginAlertMsg').textContent = 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
          document.getElementById('userLoginAlert').style.display = 'flex';
          pwEl.focus();
          return;
        }

        const { success, user } = authenticateUser(name, password);

        if (!success) {
          shakeElement(nameEl);
          shakeElement(pwEl);
          document.getElementById('userLoginAlertMsg').textContent = 'ì´ë¦„ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.';
          document.getElementById('userLoginAlert').style.display = 'flex';
          pwEl.value = '';
          pwEl.focus();
          return;
        }

        // ë¡œê·¸ì¸ ì„±ê³µ â€” í˜„ì¬ ì‚¬ìš©ì ì„¸ì…˜ ì €ì¥ í›„ í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™
        currentUser = user;
        hideAlert('userLoginAlert');
        nameEl.value = '';
        pwEl.value   = '';
        renderUserHome(user);
        navigateTo(SCREENS.USER_HOME);
      }

      // =========================================
      // ì‚¬ìš©ì í™ˆ í™”ë©´ ë Œë”ë§ ë° í•œì¤„í‰ ê¸°ëŠ¥
      // =========================================

      /**
       * ì‚¬ìš©ì í™ˆ í™”ë©´ ì „ì²´ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.
       * í”„ë¡œí•„ ì •ë³´, í•œì¤„í‰ ì‘ì„± ì˜ì—­, ë‚´ í•œì¤„í‰ ëª©ë¡ì„ ëª¨ë‘ ê°±ì‹ í•©ë‹ˆë‹¤.
       * @param {{ id: string, grade: string, classNum: string, name: string }} user
       */
      /** í˜„ì¬ ë‹¤ì´ì–´ë¦¬ì—ì„œ ë³´ê³  ìˆëŠ” ì—°/ì›” */
      let diaryViewYear = null;
      let diaryViewMonth = null; // 0-indexed

      /** í˜„ì¬ ê³µì§€ì‚¬í•­ì—ì„œ ë³´ê³  ìˆëŠ” ë‚ ì§œ (YYYY-MM-DD) */
      let noticeViewDate = null;

      function renderUserHome(user) {
        // ìƒë‹¨ ë°” ì‚¬ìš©ì ì´ë¦„ í‘œì‹œ
        document.getElementById('navbarUserName').textContent = user.name;

        // ê³µì§€ì‚¬í•­ ë‚ ì§œë¥¼ ì˜¤ëŠ˜ë¡œ ì´ˆê¸°í™”
        noticeViewDate = getTodayKey();
        renderUserNoticeCard(user);

        // ë‹¤ì´ì–´ë¦¬ í•œì¤„í‰ ë Œë”ë§ (í˜„ì¬ ì›”ë¡œ ì´ˆê¸°í™”)
        const now = new Date();
        diaryViewYear = now.getFullYear();
        diaryViewMonth = now.getMonth();
        renderDiaryView(user);

        // íƒ­ì„ ê³µì§€ì‚¬í•­(ê¸°ë³¸)ìœ¼ë¡œ ì´ˆê¸°í™”
        switchUserTab('notice');
      }

      /**
       * ë‹¤ì´ì–´ë¦¬ ì›” ì´ë™
       */
      function navigateDiaryMonth(user, delta) {
        diaryViewMonth += delta;
        if (diaryViewMonth < 0) {
          diaryViewMonth = 11;
          diaryViewYear--;
        } else if (diaryViewMonth > 11) {
          diaryViewMonth = 0;
          diaryViewYear++;
        }
        renderDiaryView(user);
      }

      /**
       * ë‹¤ì´ì–´ë¦¬ ì˜¤ëŠ˜ ì›”ë¡œ ë³µê·€
       */
      function navigateDiaryToday(user) {
        const now = new Date();
        diaryViewYear = now.getFullYear();
        diaryViewMonth = now.getMonth();
        renderDiaryView(user);
      }

      /**
       * ë‹¤ì´ì–´ë¦¬ ë·° ì „ì²´ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.
       * ìƒë‹¨ ì›”/ì—°ë„ í—¤ë” + ë‚ ì§œë³„ ì¤„ë…¸íŠ¸ í–‰ì„ ìƒì„±í•©ë‹ˆë‹¤.
       */
      function renderDiaryView(user) {
        const now = new Date();
        const realYear = now.getFullYear();
        const realMonth = now.getMonth();
        const realDay = now.getDate();

        const year = diaryViewYear;
        const month = diaryViewMonth;
        const isCurrentMonth = (year === realYear && month === realMonth);
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        const monthEngNames = [
          'January', 'February', 'March', 'April', 'May', 'June',
          'July', 'August', 'September', 'October', 'November', 'December'
        ];

        // í—¤ë” ì„¤ì •
        document.getElementById('diaryMonthNum').textContent = month + 1;
        document.getElementById('diaryMonthEng').textContent = monthEngNames[month];
        document.getElementById('diaryMonthYear').textContent = year;

        // "ì˜¤ëŠ˜" ë²„íŠ¼: í˜„ì¬ ì›”ì´ë©´ ìˆ¨ê¹€
        const btnToday = document.getElementById('btnDiaryToday');
        if (isCurrentMonth) {
          btnToday.classList.add('hidden');
        } else {
          btnToday.classList.remove('hidden');
        }

        // ë‚ ì§œë³„ í–‰ ìƒì„±
        const container = document.getElementById('diaryRows');
        const reviews = getReviewsByUser(user.id);
        const reviewMap = {};
        reviews.forEach(r => { reviewMap[r.dateKey] = r; });

        let rowsHtml = '';
        for (let d = 1; d <= daysInMonth; d++) {
          const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
          const isToday = isCurrentMonth && d === realDay;
          const isPast = (year < realYear) || (year === realYear && month < realMonth) || (isCurrentMonth && d < realDay);
          const review = reviewMap[dateKey];

          let rowClass = 'diary-row';
          if (isToday) rowClass += ' is-today';
          else if (isPast) rowClass += ' is-past';

          let contentHtml = '';
          if (isToday) {
            const existingContent = review ? escapeHtml(review.content) : '';
            const todayCommentBtn = (review && review.adminComment)
              ? `<button class="btn-comment" type="button" data-comment="${escapeHtml(review.adminComment)}">ğŸ’¬ ì½”ë©˜íŠ¸</button>`
              : '';
            contentHtml = `
              <input
                type="text"
                class="review-inline-input"
                id="diaryInput-${d}"
                placeholder="ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ í•œ ì¤„ë¡œ ë‚¨ê²¨ë³´ì„¸ìš” âœï¸"
                maxlength="100"
                value="${existingContent}"
              />
              <button class="btn-save-inline" id="diarySave-${d}" type="button">
                ${review ? 'ìˆ˜ì •' : 'ë“±ë¡'}
              </button>
              ${todayCommentBtn}
            `;
          } else if (review) {
            const commentBtn = review.adminComment
              ? `<button class="btn-comment" type="button" data-comment="${escapeHtml(review.adminComment)}">ğŸ’¬ ì½”ë©˜íŠ¸</button>`
              : '';
            contentHtml = `<span class="review-text">${escapeHtml(review.content)}</span>${commentBtn}`;
          } else if (isPast) {
            contentHtml = `<span class="review-empty">â€”</span>`;
          } else {
            contentHtml = '';
          }

          rowsHtml += `
            <div class="${rowClass}" data-date="${dateKey}">
              <div class="day-cell">${d}</div>
              <div class="content-cell">${contentHtml}</div>
            </div>
          `;
        }
        container.innerHTML = rowsHtml;

        // ì˜¤ëŠ˜ í–‰ ì´ë²¤íŠ¸ ë°”ì¸ë”© (í˜„ì¬ ì›”ì¼ ë•Œë§Œ)
        if (isCurrentMonth) {
          const todayDateKey = getTodayKey();
          const saveBtn = document.getElementById(`diarySave-${realDay}`);
          const input = document.getElementById(`diaryInput-${realDay}`);
          if (saveBtn && input) {
            saveBtn.addEventListener('click', () => handleDiaryInlineSave(user, todayDateKey, realDay));
            input.addEventListener('keydown', (e) => {
              if (e.key === 'Enter') {
                e.preventDefault();
                handleDiaryInlineSave(user, todayDateKey, realDay);
              }
            });
          }

          // ì˜¤ëŠ˜ í–‰ìœ¼ë¡œ ìŠ¤í¬ë¡¤
          requestAnimationFrame(() => {
            const todayRow = container.querySelector('.diary-row.is-today');
            if (todayRow) {
              todayRow.scrollIntoView({ block: 'center', behavior: 'smooth' });
            }
          });
        }

        // ì½”ë©˜íŠ¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ìœ„ì„
        container.addEventListener('click', (e) => {
          const btn = e.target.closest('.btn-comment');
          if (!btn) return;
          e.stopPropagation();

          // ê¸°ì¡´ íŒì˜¤ë²„ ë‹«ê¸°
          closeCommentPopover();

          const comment = btn.getAttribute('data-comment');

          const popover = document.createElement('div');
          popover.className = 'comment-popover';
          popover.innerHTML = `
            <div class="popover-label">ì„ ìƒë‹˜ ì½”ë©˜íŠ¸</div>
            <div class="popover-text">${escapeHtml(comment)}</div>
          `;
          btn.appendChild(popover);
        });
      }

      /** ì—´ë ¤ìˆëŠ” ì½”ë©˜íŠ¸ íŒì˜¤ë²„ë¥¼ ë‹«ìŠµë‹ˆë‹¤ */
      function closeCommentPopover() {
        const existing = document.querySelector('.comment-popover');
        if (existing) existing.remove();
      }

      // ì™¸ë¶€ í´ë¦­ ì‹œ íŒì˜¤ë²„ ë‹«ê¸°
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.comment-popover') && !e.target.closest('.btn-comment')) {
          closeCommentPopover();
        }
      });

      /**
       * ë‹¤ì´ì–´ë¦¬ ì¸ë¼ì¸ ì €ì¥ í•¸ë“¤ëŸ¬
       */
      function handleDiaryInlineSave(user, dateKey, day) {
        const input = document.getElementById(`diaryInput-${day}`);
        const saveBtn = document.getElementById(`diarySave-${day}`);
        if (!input) return;

        const content = input.value.trim();
        if (!content) {
          shakeElement(input);
          showAlert('reviewWriteAlert', 'reviewWriteAlertIcon', 'reviewWriteAlertMsg', 'error', 'âš ï¸', 'í•œì¤„í‰ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          input.focus();
          return;
        }

        const result = upsertReview({
          userId: user.id,
          userName: user.name,
          userGrade: user.grade,
          userClass: user.classNum,
          dateKey: dateKey,
          content: content,
        });

        if (result.isUpdate) {
          showAlert('reviewWriteAlert', 'reviewWriteAlertIcon', 'reviewWriteAlertMsg', 'success', 'âœ…', 'í•œì¤„í‰ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
        } else {
          showAlert('reviewWriteAlert', 'reviewWriteAlertIcon', 'reviewWriteAlertMsg', 'success', 'âœ…', 'í•œì¤„í‰ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
        if (saveBtn) saveBtn.textContent = 'ìˆ˜ì •';
      }

      /**
       * ì‚¬ìš©ì í™ˆ íƒ­ ì „í™˜ í•¨ìˆ˜
       * @param {'notice' | 'review'} tabName
       */
      function switchUserTab(tabName) {
        const tabNotice  = document.getElementById('tabNotice');
        const tabReview  = document.getElementById('tabReview');
        const contentNotice = document.getElementById('tabContentNotice');
        const contentReview = document.getElementById('tabContentReview');

        if (tabName === 'notice') {
          tabNotice.classList.add('active');
          tabNotice.setAttribute('aria-selected', 'true');
          tabReview.classList.remove('active');
          tabReview.setAttribute('aria-selected', 'false');
          contentNotice.classList.add('active');
          contentReview.classList.remove('active');
        } else {
          tabReview.classList.add('active');
          tabReview.setAttribute('aria-selected', 'true');
          tabNotice.classList.remove('active');
          tabNotice.setAttribute('aria-selected', 'false');
          contentReview.classList.add('active');
          contentNotice.classList.remove('active');
        }
      }

      // =========================================
      // ê³µì§€ì‚¬í•­ UI ë Œë”ë§ (ì‚¬ìš©ì í™ˆ)
      // =========================================

      /**
       * ì‚¬ìš©ì í™ˆì˜ ê³µì§€ì‚¬í•­ ì¹´ë“œë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.
       * noticeViewDate ìƒíƒœ ë³€ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ í•´ë‹¹ ë‚ ì§œì˜ ê³µì§€ì‚¬í•­ì„ í‘œì‹œí•©ë‹ˆë‹¤.
       * @param {{ id: string, name: string, grade: string, classNum: string }} user
       */
      function renderUserNoticeCard(user) {
        const dateKey  = noticeViewDate;
        const todayKey = getTodayKey();
        const isToday  = dateKey === todayKey;

        // ë‚ ì§œ input ë™ê¸°í™”
        const dateInput = document.getElementById('noticeDateInput');
        dateInput.value = dateKey;

        // "ì˜¤ëŠ˜" ë²„íŠ¼ í‘œì‹œ/ìˆ¨ê¹€
        const btnToday = document.getElementById('btnNoticeToday');
        if (isToday) {
          btnToday.classList.add('hidden');
        } else {
          btnToday.classList.remove('hidden');
        }

        const cardBody = document.getElementById('userNoticeCardBody');
        const notice   = findNoticeByDate(dateKey);
        const dateLabel = formatDateKorean(dateKey);

        // ê³µì§€ì‚¬í•­ì´ ì—†ëŠ” ê²½ìš°
        if (!notice) {
          cardBody.innerHTML = `
            <div class="notice-empty">
              <span class="notice-empty-icon">ğŸ“­</span>
              ${escapeHtml(dateLabel)}ì˜ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.
            </div>
          `;
          return;
        }

        // í™•ì¸ ë²„íŠ¼ì€ ì˜¤ëŠ˜ ë‚ ì§œì˜ ê³µì§€ì‚¬í•­ë§Œ
        let confirmButtonHtml = '';
        if (isToday) {
          const alreadyRead = hasReadNotice(dateKey, user.id);
          confirmButtonHtml = alreadyRead
            ? `
              <div class="notice-read-badge" aria-label="ê³µì§€ì‚¬í•­ í™•ì¸ ì™„ë£Œ">
                âœ… í™•ì¸ ì™„ë£Œ
              </div>
            `
            : `
              <button
                class="btn btn--success btn--full"
                id="btnConfirmNotice"
                type="button"
              >
                âœ” í™•ì¸í–ˆìŠµë‹ˆë‹¤
              </button>
            `;
        }

        cardBody.innerHTML = `
          <div class="notice-content-box" aria-label="ê³µì§€ì‚¬í•­ ë‚´ìš©">${escapeHtml(notice.content)}</div>
          ${confirmButtonHtml}
        `;

        // ì˜¤ëŠ˜ ê³µì§€ì‚¬í•­ í™•ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸
        if (isToday && !hasReadNotice(dateKey, user.id)) {
          const confirmBtn = document.getElementById('btnConfirmNotice');
          if (confirmBtn) {
            confirmBtn.addEventListener('click', () => {
              handleConfirmNotice(user, dateKey);
            });
          }
        }
      }

      /**
       * ê³µì§€ì‚¬í•­ ë‚ ì§œë¥¼ deltaì¼ë§Œí¼ ì´ë™í•©ë‹ˆë‹¤.
       */
      function navigateNoticeDate(user, delta) {
        const d = new Date(noticeViewDate);
        d.setDate(d.getDate() + delta);
        noticeViewDate = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
        renderUserNoticeCard(user);
      }

      /**
       * ì‚¬ìš©ìê°€ "í™•ì¸í–ˆìŠµë‹ˆë‹¤" ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ì—´ëŒ ê¸°ë¡ì„ ë‚¨ê¸°ê³  UIë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
       */
      function handleConfirmNotice(user, dateKey) {
        const success = markNoticeAsRead(dateKey, user);
        if (!success) {
          alert('ì—´ëŒ í™•ì¸ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
          return;
        }
        renderUserNoticeCard(user);
      }

      // =========================================
      // ê³µì§€ì‚¬í•­ UI ë Œë”ë§ (ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ)
      // =========================================

      /**
       * ê´€ë¦¬ì ê³µì§€ì‚¬í•­ ì‘ì„± ì„¹ì…˜ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
       * ì˜¤ëŠ˜ ì´ë¯¸ ì‘ì„±ëœ ê³µì§€ì‚¬í•­ì´ ìˆìœ¼ë©´ ë‚´ìš©ì„ ì…ë ¥ì°½ì— ì±„ì›Œì¤ë‹ˆë‹¤.
       */
      function initAdminNoticeSection() {
        const todayKey   = getTodayKey();
        const textarea   = document.getElementById('noticeContentInput');
        const saveBtn    = document.getElementById('btnSaveNotice');
        const charCount  = document.getElementById('noticeCharCount');
        const dateBadge  = document.getElementById('adminNoticeDateText');

        // ë‚ ì§œ ë°°ì§€ ê°±ì‹ 
        dateBadge.textContent = formatDateKorean(todayKey);

        // ê¸°ì¡´ ê³µì§€ì‚¬í•­ ë¶ˆëŸ¬ì˜¤ê¸°
        const existing = findNoticeByDate(todayKey);
        if (existing) {
          textarea.value   = existing.content;
          saveBtn.textContent = 'ê³µì§€ì‚¬í•­ ìˆ˜ì •';
          updateNoticeCharCount(existing.content.length, charCount);
        } else {
          textarea.value   = '';
          saveBtn.textContent = 'ê³µì§€ì‚¬í•­ ì €ì¥';
          updateNoticeCharCount(0, charCount);
        }

        hideAlert('noticeWriteAlert');

        // ì—´ëŒì ëª©ë¡ ë Œë”ë§
        renderNoticeReaderList(todayKey);
      }

      /**
       * ê³µì§€ì‚¬í•­ ê¸€ì ìˆ˜ ì¹´ìš´í„° UIë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
       * @param {number} count
       * @param {HTMLElement} countEl
       */
      function updateNoticeCharCount(count, countEl) {
        countEl.textContent = `${count} / ${NOTICE_MAX_LENGTH}ì`;
        countEl.classList.remove('near-limit', 'at-limit');
        if (count >= NOTICE_MAX_LENGTH) {
          countEl.classList.add('at-limit');
        } else if (count >= NOTICE_MAX_LENGTH * 0.8) {
          countEl.classList.add('near-limit');
        }
      }

      /**
       * ê´€ë¦¬ì ê³µì§€ì‚¬í•­ ì €ì¥ ë²„íŠ¼ í´ë¦­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
       */
      function handleSaveNotice() {
        const todayKey  = getTodayKey();
        const textarea  = document.getElementById('noticeContentInput');
        const saveBtn   = document.getElementById('btnSaveNotice');
        const content   = textarea.value.trim();

        if (!content) {
          shakeElement(textarea);
          showAlert('noticeWriteAlert', 'noticeWriteAlertIcon', 'noticeWriteAlertMsg', 'error', 'âš ï¸', 'ê³µì§€ì‚¬í•­ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          textarea.focus();
          return;
        }

        const result = upsertNotice(todayKey, content);

        if (result.isUpdate) {
          showAlert('noticeWriteAlert', 'noticeWriteAlertIcon', 'noticeWriteAlertMsg', 'success', 'âœ…', 'ê³µì§€ì‚¬í•­ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
        } else {
          showAlert('noticeWriteAlert', 'noticeWriteAlertIcon', 'noticeWriteAlertMsg', 'success', 'âœ…', 'ê³µì§€ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ë²„íŠ¼ í…ìŠ¤íŠ¸ë¥¼ ìˆ˜ì • ëª¨ë“œë¡œ ì „í™˜
        saveBtn.textContent = 'ê³µì§€ì‚¬í•­ ìˆ˜ì •';

        // ì—´ëŒì ëª©ë¡ì€ ë³€ê²½ ì—†ì´ ìœ ì§€ (ë‚´ìš©ë§Œ ìˆ˜ì •)
        renderNoticeReaderList(todayKey);
      }

      /**
       * ì˜¤ëŠ˜ ê³µì§€ì‚¬í•­ì˜ ì—´ëŒì ëª©ë¡ì„ ê´€ë¦¬ì ë·°ì— ë Œë”ë§í•©ë‹ˆë‹¤.
       * ì „ì²´ ì‚¬ìš©ì ìˆ˜ ëŒ€ë¹„ í™•ì¸ ìˆ˜ë„ í‘œì‹œí•©ë‹ˆë‹¤.
       * @param {string} todayKey - 'YYYY-MM-DD'
       */
      function renderNoticeReaderList(todayKey) {
        const container = document.getElementById('noticeReaderContainer');
        const notice    = findNoticeByDate(todayKey);

        // ê³µì§€ì‚¬í•­ ìì²´ê°€ ì—†ëŠ” ê²½ìš°
        if (!notice) {
          container.innerHTML = `
            <div class="reader-list-empty">
              ì˜¤ëŠ˜ ì‘ì„±ëœ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.<br/>
              ê³µì§€ì‚¬í•­ì„ ë¨¼ì € ì‘ì„±í•´ì£¼ì„¸ìš”.
            </div>
          `;
          return;
        }

        const readers      = notice.readers;
        const totalUsers   = loadUsersFromStorage().length;

        // ì½ì€ ì‹œê°ì„ 'HH:MM' í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë‚´ë¶€ í—¬í¼
        function formatReadTime(isoString) {
          const d = new Date(isoString);
          const h = String(d.getHours()).padStart(2, '0');
          const m = String(d.getMinutes()).padStart(2, '0');
          return `${h}:${m}`;
        }

        // ì—´ëŒìë¥¼ í•™ë…„ â†’ ë°˜ â†’ ì´ë¦„ ìˆœìœ¼ë¡œ ì •ë ¬
        const sortedReaders = readers.slice().sort((a, b) => {
          const gradeDiff = Number(a.userGrade) - Number(b.userGrade);
          if (gradeDiff !== 0) return gradeDiff;
          const classDiff = Number(a.userClass) - Number(b.userClass);
          if (classDiff !== 0) return classDiff;
          return a.userName.localeCompare(b.userName);
        });

        // ìš”ì•½ ì •ë³´ êµ¬ì„±
        const summaryHtml = `
          <div class="reader-summary">
            <span>í™•ì¸ í˜„í™©</span>
            <span class="reader-count-badge">${readers.length} / ${totalUsers}ëª…</span>
          </div>
        `;

        // ì—´ëŒìê°€ ì—†ëŠ” ê²½ìš°
        if (readers.length === 0) {
          container.innerHTML = `
            ${summaryHtml}
            <div class="reader-list-empty">
              ì•„ì§ ê³µì§€ì‚¬í•­ì„ í™•ì¸í•œ í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤.
            </div>
          `;
          return;
        }

        // ì—´ëŒì í…Œì´ë¸” í–‰ êµ¬ì„±
        const rows = sortedReaders.map((reader, index) => `
          <tr>
            <td>${index + 1}</td>
            <td>${escapeHtml(reader.userGrade)}í•™ë…„</td>
            <td>${escapeHtml(reader.userClass)}ë°˜</td>
            <td>${escapeHtml(reader.userName)}</td>
            <td class="reader-time-cell">${escapeHtml(formatReadTime(reader.readAt))}</td>
          </tr>
        `).join('');

        container.innerHTML = `
          ${summaryHtml}
          <table class="reader-list-table" aria-label="ê³µì§€ì‚¬í•­ ì—´ëŒì ëª©ë¡">
            <thead>
              <tr>
                <th>ë²ˆí˜¸</th>
                <th>í•™ë…„</th>
                <th>ë°˜</th>
                <th>ì´ë¦„</th>
                <th>í™•ì¸ ì‹œê°„</th>
              </tr>
            </thead>
            <tbody>
              ${rows}
            </tbody>
          </table>
        `;
      }

      /**
       * (í•˜ìœ„ í˜¸í™˜ìš©) ê¸°ì¡´ ì½”ë“œì—ì„œ í˜¸ì¶œë  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ ìŠ¤í…
       */
      function renderMyReviewList() {}
      function handleSubmitReview() {
        if (!currentUser) return;
        handleDiaryInlineSave(currentUser, getTodayKey(), new Date().getDate());
      }

      // =========================================
      // ê´€ë¦¬ì ë¡œê·¸ì¸ í•¸ë“¤ëŸ¬
      // =========================================

      /**
       * ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹œë„ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
       */
      function handleAdminLogin() {
        const passwordInput = document.getElementById('adminPasswordInput');
        const enteredPassword = passwordInput.value;

        if (!enteredPassword) {
          showAdminLoginError('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          shakeElement(passwordInput);
          return;
        }

        if (enteredPassword !== ADMIN_PASSWORD) {
          showAdminLoginError('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
          passwordInput.value = '';
          shakeElement(passwordInput);
          passwordInput.focus();
          return;
        }

        // ë¡œê·¸ì¸ ì„±ê³µ
        document.getElementById('adminLoginError').style.display = 'none';
        passwordInput.value = '';
        navigateTo(SCREENS.ADMIN_DASHBOARD);
        renderDashboard();
      }

      /**
       * ê´€ë¦¬ì ë¡œê·¸ì¸ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
       * @param {string} message
       */
      function showAdminLoginError(message) {
        document.getElementById('adminLoginErrorMsg').textContent = message;
        document.getElementById('adminLoginError').style.display = 'flex';
      }

      // =========================================
      // ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í•¸ë“¤ëŸ¬
      // =========================================

      /**
       * ëŒ€ì‹œë³´ë“œ ì „ì²´ë¥¼ í˜„ì¬ ìƒíƒœì— ë§ê²Œ ë Œë”ë§í•©ë‹ˆë‹¤.
       * ì‚¬ìš©ì ëª©ë¡ + ê³µì§€ì‚¬í•­ ì„¹ì…˜ + í•œì¤„í‰ ê´€ë¦¬ ì„¹ì…˜ì„ ëª¨ë‘ ê°±ì‹ í•©ë‹ˆë‹¤.
       */
      function renderDashboard() {
        renderUserList();
        initAdminNoticeSection();
        initAdminReviewSection();
        // ê´€ë¦¬ì íƒ­ì„ ì‚¬ìš©ì ëª©ë¡(ê¸°ë³¸)ìœ¼ë¡œ ì´ˆê¸°í™”
        switchAdminTab('users');
      }

      /**
       * ê°€ì… ì‚¬ìš©ì ëª©ë¡ í…Œì´ë¸”ì„ ë Œë”ë§í•©ë‹ˆë‹¤.
       * í•™ë…„ â†’ ë°˜ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.
       */
      function renderUserList() {
        const container  = document.getElementById('userListContainer');
        const countBadge = document.getElementById('userCountBadge');
        const sortedUsers = getSortedUsers();

        countBadge.textContent = `${sortedUsers.length}ëª…`;

        if (sortedUsers.length === 0) {
          container.innerHTML = `
            <div class="user-list-empty">
              <span class="user-list-empty-icon">ğŸ‘¥</span>
              ì•„ì§ ê°€ì…í•œ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤.<br/>
              ì‚¬ìš©ìê°€ íšŒì›ê°€ì…í•˜ë©´ ì´ê³³ì— í‘œì‹œë©ë‹ˆë‹¤.
            </div>
          `;
          return;
        }

        // í…Œì´ë¸” êµ¬ì„±
        const rows = sortedUsers.map((user, index) => `
          <tr>
            <td>${index + 1}</td>
            <td>${escapeHtml(user.grade)}í•™ë…„</td>
            <td>${escapeHtml(user.classNum)}ë°˜</td>
            <td>${escapeHtml(user.name)}</td>
          </tr>
        `).join('');

        container.innerHTML = `
          <table class="user-list-table" aria-label="ê°€ì… ì‚¬ìš©ì ëª©ë¡">
            <thead>
              <tr>
                <th>ë²ˆí˜¸</th>
                <th>í•™ë…„</th>
                <th>ë°˜</th>
                <th>ì´ë¦„</th>
              </tr>
            </thead>
            <tbody>
              ${rows}
            </tbody>
          </table>
        `;
      }

      /**
       * ê´€ë¦¬ì í•œì¤„í‰ ê´€ë¦¬ ì„¹ì…˜ ì´ˆê¸°í™”.
       * ë‚ ì§œ í•„í„°ë¥¼ ì˜¤ëŠ˜ë¡œ ì´ˆê¸°í™”í•˜ê³  í•œì¤„í‰ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
       */
      function initAdminReviewSection() {
        const dateFilterInput = document.getElementById('adminReviewDateFilter');
        dateFilterInput.value = getTodayKey();
        renderAdminReviewList(getTodayKey());
      }

      /**
       * íŠ¹ì • ë‚ ì§œì˜ í•œì¤„í‰ ëª©ë¡ì„ ê´€ë¦¬ì ë·°ì— ë Œë”ë§í•©ë‹ˆë‹¤.
       * ê° í•­ëª©ì—ëŠ” í•™ë…„/ë°˜/ì´ë¦„, í•œì¤„í‰ ë‚´ìš©, ê¸°ì¡´ í‰ê°€ (ìˆìœ¼ë©´), í‰ê°€ ì…ë ¥ì°½ì´ í‘œì‹œë©ë‹ˆë‹¤.
       * @param {string} dateKey - 'YYYY-MM-DD'
       */
      function renderAdminReviewList(dateKey) {
        const container  = document.getElementById('adminReviewListContainer');
        const countBadge = document.getElementById('adminReviewCountBadge');
        const dateLabel  = document.getElementById('adminReviewDateLabel');

        dateLabel.textContent = `${formatDateKorean(dateKey)} í•œì¤„í‰`;

        const reviews = getReviewsByDate(dateKey);
        countBadge.textContent = `${reviews.length}ê±´`;

        if (reviews.length === 0) {
          container.innerHTML = `
            <div class="admin-review-empty">
              <span class="admin-review-empty-icon">ğŸ“­</span>
              í•´ë‹¹ ë‚ ì§œì— ì‘ì„±ëœ í•œì¤„í‰ì´ ì—†ìŠµë‹ˆë‹¤.
            </div>
          `;
          return;
        }

        const items = reviews.map((review) => {
          // ê¸°ì¡´ í‰ê°€ ì½”ë©˜íŠ¸ ì˜ì—­
          const existingCommentHtml = review.adminComment
            ? `
              <div class="existing-comment-box" id="existingComment-${escapeHtml(review.id)}">
                <span class="existing-comment-label">í˜„ì¬ í‰ê°€</span>
                <span class="existing-comment-text">${escapeHtml(review.adminComment)}</span>
              </div>
            `
            : '';

          return `
            <div class="admin-review-item">
              <div class="admin-review-item-header">
                <span class="admin-review-user-badge">
                  ${escapeHtml(review.userGrade)}í•™ë…„ ${escapeHtml(review.userClass)}ë°˜ ${escapeHtml(review.userName)}
                </span>
              </div>
              <div class="admin-review-item-body">
                <div class="admin-review-content">${escapeHtml(review.content)}</div>
                ${existingCommentHtml}
                <div class="admin-comment-input-row">
                  <input
                    type="text"
                    class="form-input"
                    id="commentInput-${escapeHtml(review.id)}"
                    placeholder="${review.adminComment ? 'í‰ê°€ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”' : 'í‰ê°€ ì½”ë©˜íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”'}"
                    maxlength="150"
                    value="${escapeHtml(review.adminComment)}"
                    aria-label="${escapeHtml(review.userName)} í•™ìƒ í•œì¤„í‰ í‰ê°€ ì…ë ¥"
                  />
                  <button
                    class="btn btn--success btn--sm"
                    type="button"
                    onclick="handleSaveAdminComment('${escapeHtml(review.id)}', '${escapeAttr(dateKey)}')"
                    aria-label="í‰ê°€ ì €ì¥"
                  >
                    ì €ì¥
                  </button>
                </div>
              </div>
            </div>
          `;
        }).join('');

        container.innerHTML = `<div class="admin-review-list">${items}</div>`;
      }

      /**
       * ê´€ë¦¬ìê°€ íŠ¹ì • í•œì¤„í‰ì— í‰ê°€ ì½”ë©˜íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” í•¸ë“¤ëŸ¬ì…ë‹ˆë‹¤.
       * ì¸ë¼ì¸ onclickì—ì„œ í˜¸ì¶œë©ë‹ˆë‹¤.
       * @param {string} reviewId
       * @param {string} dateKey - ëª©ë¡ ì¬ë Œë”ë§ì„ ìœ„í•´ í˜„ì¬ ë‚ ì§œ ìœ ì§€
       */
      function handleSaveAdminComment(reviewId, dateKey) {
        const input   = document.getElementById(`commentInput-${reviewId}`);
        const comment = input ? input.value : '';

        const success = saveAdminComment(reviewId, comment);
        if (!success) {
          alert('ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
          return;
        }

        // ëª©ë¡ ê°±ì‹  (ì €ì¥ í›„ í˜„ì¬ ë‚ ì§œ í•„í„° ìœ ì§€)
        renderAdminReviewList(dateKey);
      }

      /**
       * HTML ì†ì„±ì— ì‚½ì…í•  ë•Œ ì¶”ê°€ë¡œ í™‘ë”°ì˜´í‘œë¥¼ ì´ìŠ¤ì¼€ì´í”„í•©ë‹ˆë‹¤.
       * onclick="..." ì†ì„± ë‚´ ë¬¸ìì—´ ì¸ììš©ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
       * @param {string} str
       * @returns {string}
       */
      function escapeAttr(str) {
        return String(str)
          .replace(/&/g, '&amp;')
          .replace(/'/g, '&#39;')
          .replace(/"/g, '&quot;');
      }

      /**
       * XSS ë°©ì§€ë¥¼ ìœ„í•´ HTML íŠ¹ìˆ˜ë¬¸ìë¥¼ ì´ìŠ¤ì¼€ì´í”„í•©ë‹ˆë‹¤.
       * @param {string} str
       * @returns {string}
       */
      function escapeHtml(str) {
        return String(str)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      }

      /**
       * ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
       */
      function handleAdminLogout() {
        navigateTo(SCREENS.MAIN);
      }

      /**
       * ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ íƒ­ ì „í™˜ í•¨ìˆ˜
       * @param {'users' | 'notice' | 'review'} tabName
       */
      function switchAdminTab(tabName) {
        const tabs = {
          users:  { tab: 'adminTabUsers',  content: 'adminTabContentUsers' },
          notice: { tab: 'adminTabNotice', content: 'adminTabContentNotice' },
          review: { tab: 'adminTabReview', content: 'adminTabContentReview' },
        };

        Object.values(tabs).forEach(({ tab, content }) => {
          document.getElementById(tab).classList.remove('active');
          document.getElementById(tab).setAttribute('aria-selected', 'false');
          document.getElementById(content).classList.remove('active');
        });

        const active = tabs[tabName];
        document.getElementById(active.tab).classList.add('active');
        document.getElementById(active.tab).setAttribute('aria-selected', 'true');
        document.getElementById(active.content).classList.add('active');
      }

      // =========================================
      // ì•± ì´ˆê¸°í™”
      // =========================================

      /**
       * ì•± ì „ì²´ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ê³  ì´ˆê¸° í™”ë©´ì„ ì„¤ì •í•©ë‹ˆë‹¤.
       */
      function initApp() {

        // role-card(div)ì— í´ë¦­ + í‚¤ë³´ë“œ(Enter/Space) ì ‘ê·¼ì„±ì„ í•¨ê»˜ ë“±ë¡í•˜ëŠ” í—¬í¼
        function addRoleCardListeners(elementId, handler) {
          const el = document.getElementById(elementId);
          if (!el) return;
          el.addEventListener('click', handler);
          el.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              handler();
            }
          });
        }

        // --- ë©”ì¸ í™”ë©´ ---
        addRoleCardListeners('btnGoAdminLogin', () => {
          document.getElementById('adminLoginError').style.display = 'none';
          document.getElementById('adminPasswordInput').value = '';
          navigateTo(SCREENS.ADMIN_LOGIN);
          requestAnimationFrame(() => document.getElementById('adminPasswordInput').focus());
        });

        addRoleCardListeners('btnGoUserLogin', () => {
          resetUserLoginForm();
          navigateTo(SCREENS.USER_LOGIN);
          requestAnimationFrame(() => document.getElementById('userLoginName').focus());
        });

        addRoleCardListeners('btnGoRegister', () => {
          resetRegisterForm();
          navigateTo(SCREENS.REGISTER);
          requestAnimationFrame(() => document.getElementById('registerGrade').focus());
        });

        // --- íšŒì›ê°€ì… í™”ë©´ ---
        document.getElementById('btnBackFromRegister').addEventListener('click', () => {
          navigateTo(SCREENS.MAIN);
        });
        document.getElementById('btnRegisterSubmit').addEventListener('click', handleRegisterSubmit);
        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì…ë ¥ì—ì„œ Enter ëˆ„ë¥´ë©´ ì œì¶œ
        document.getElementById('registerPasswordConfirm').addEventListener('keydown', (e) => {
          if (e.key === 'Enter') handleRegisterSubmit();
        });
        // íšŒì›ê°€ì… í™”ë©´ â†’ ë¡œê·¸ì¸ìœ¼ë¡œ ì´ë™ ë§í¬
        document.getElementById('btnGoUserLoginFromRegister').addEventListener('click', () => {
          resetUserLoginForm();
          navigateTo(SCREENS.USER_LOGIN);
          requestAnimationFrame(() => document.getElementById('userLoginName').focus());
        });

        // --- ì‚¬ìš©ì ë¡œê·¸ì¸ í™”ë©´ ---
        document.getElementById('btnBackFromUserLogin').addEventListener('click', () => {
          navigateTo(SCREENS.MAIN);
        });
        document.getElementById('btnUserLoginSubmit').addEventListener('click', handleUserLoginSubmit);
        document.getElementById('userLoginPassword').addEventListener('keydown', (e) => {
          if (e.key === 'Enter') handleUserLoginSubmit();
        });
        // ë¡œê·¸ì¸ í™”ë©´ â†’ íšŒì›ê°€ì…ìœ¼ë¡œ ì´ë™ ë§í¬
        document.getElementById('btnGoRegisterFromLogin').addEventListener('click', () => {
          resetRegisterForm();
          navigateTo(SCREENS.REGISTER);
          requestAnimationFrame(() => document.getElementById('registerGrade').focus());
        });

        // --- ì‚¬ìš©ì í™ˆ í™”ë©´ ---
        document.getElementById('btnUserLogout').addEventListener('click', () => {
          currentUser = null;
          navigateTo(SCREENS.MAIN);
        });

        // ìš°ë¦¬ë°˜(í™ˆ) ë²„íŠ¼ â€” ê³µì§€ì‚¬í•­ íƒ­ìœ¼ë¡œ ì´ë™
        document.getElementById('btnNavHome').addEventListener('click', () => {
          switchUserTab('notice');
        });

        // íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸
        document.getElementById('tabNotice').addEventListener('click', () => switchUserTab('notice'));
        document.getElementById('tabReview').addEventListener('click', () => switchUserTab('review'));

        // ê³µì§€ì‚¬í•­ ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜
        document.getElementById('btnNoticePrev').addEventListener('click', () => {
          if (currentUser) navigateNoticeDate(currentUser, -1);
        });
        document.getElementById('btnNoticeNext').addEventListener('click', () => {
          if (currentUser) navigateNoticeDate(currentUser, 1);
        });
        document.getElementById('btnNoticeToday').addEventListener('click', () => {
          if (currentUser) {
            noticeViewDate = getTodayKey();
            renderUserNoticeCard(currentUser);
          }
        });
        document.getElementById('noticeDateInput').addEventListener('change', (e) => {
          if (currentUser && e.target.value) {
            noticeViewDate = e.target.value;
            renderUserNoticeCard(currentUser);
          }
        });

        // ë‹¤ì´ì–´ë¦¬ ì›” ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
        document.getElementById('btnDiaryPrev').addEventListener('click', () => {
          if (currentUser) navigateDiaryMonth(currentUser, -1);
        });
        document.getElementById('btnDiaryNext').addEventListener('click', () => {
          if (currentUser) navigateDiaryMonth(currentUser, 1);
        });
        document.getElementById('btnDiaryToday').addEventListener('click', () => {
          if (currentUser) navigateDiaryToday(currentUser);
        });

        // --- ê´€ë¦¬ì ë¡œê·¸ì¸ í™”ë©´ ---
        document.getElementById('btnAdminLogin').addEventListener('click', handleAdminLogin);
        document.getElementById('adminPasswordInput').addEventListener('keydown', (e) => {
          if (e.key === 'Enter') handleAdminLogin();
        });
        document.getElementById('btnBackFromAdminLogin').addEventListener('click', () => {
          navigateTo(SCREENS.MAIN);
        });

        // --- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ---
        document.getElementById('btnAdminLogout').addEventListener('click', handleAdminLogout);

        // ê´€ë¦¬ì íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸
        document.getElementById('btnAdminNavHome').addEventListener('click', () => switchAdminTab('users'));
        document.getElementById('adminTabUsers').addEventListener('click', () => switchAdminTab('users'));
        document.getElementById('adminTabNotice').addEventListener('click', () => switchAdminTab('notice'));
        document.getElementById('adminTabReview').addEventListener('click', () => switchAdminTab('review'));

        // ê³µì§€ì‚¬í•­ ì €ì¥ ë²„íŠ¼
        document.getElementById('btnSaveNotice').addEventListener('click', handleSaveNotice);

        // ê³µì§€ì‚¬í•­ ì…ë ¥ ê¸€ì ìˆ˜ ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸
        document.getElementById('noticeContentInput').addEventListener('input', (e) => {
          const charCount = document.getElementById('noticeCharCount');
          updateNoticeCharCount(e.target.value.length, charCount);
        });

        // ë‚ ì§œ í•„í„° ì¡°íšŒ ë²„íŠ¼
        document.getElementById('btnFilterReviews').addEventListener('click', () => {
          const dateKey = document.getElementById('adminReviewDateFilter').value;
          if (!dateKey) {
            alert('ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
            return;
          }
          renderAdminReviewList(dateKey);
        });

        // ë‚ ì§œ ì…ë ¥ì°½ì—ì„œ Enter í‚¤ë¡œ ì¡°íšŒ
        document.getElementById('adminReviewDateFilter').addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            document.getElementById('btnFilterReviews').click();
          }
        });

        // --- ì´ˆê¸° í™”ë©´: ë©”ì¸(ì—­í•  ì„ íƒ) ---
        navigateTo(SCREENS.MAIN);
      }

      // DOMì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ì•± ì´ˆê¸°í™” ì‹¤í–‰
      document.addEventListener('DOMContentLoaded', initApp);
    </script>
  </body>
</html>
