<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìœ ë¯¸ë¥¼ ìœ„í•œ í•  ì¼ ëª©ë¡</title>
    <style>
      /* ===========================
         ì „ì—­ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” ë° ê¸°ë³¸ê°’
         =========================== */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      :root {
        --color-primary: #4f46e5;
        --color-primary-hover: #4338ca;
        --color-primary-light: #eef2ff;
        --color-danger: #ef4444;
        --color-danger-hover: #dc2626;
        --color-success: #22c55e;
        --color-text-primary: #111827;
        --color-text-secondary: #6b7280;
        --color-text-muted: #9ca3af;
        --color-border: #e5e7eb;
        --color-bg: #f3f4f6;
        --color-surface: #ffffff;
        --color-done-bg: #f9fafb;
        --color-done-text: #9ca3af;
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
        --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.10);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.13);
        --radius-sm: 8px;
        --radius-md: 14px;
        --radius-lg: 20px;
        --transition: 0.2s ease;
      }

      body {
        font-family: 'Segoe UI', 'Apple SD Gothic Neo', 'ë§‘ì€ ê³ ë”•', sans-serif;
        background: var(--color-bg);
        color: var(--color-text-primary);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 48px 16px 80px;
      }

      /* ===========================
         ë©”ì¸ ì»¨í…Œì´ë„ˆ
         =========================== */
      .app-container {
        width: 100%;
        max-width: 560px;
      }

      /* ì•± í—¤ë” ì˜ì—­ */
      .app-header {
        margin-bottom: 24px;
        text-align: center;
      }

      .app-header h1 {
        font-size: 2rem;
        font-weight: 800;
        color: var(--color-primary);
        letter-spacing: -0.5px;
      }

      .app-header p {
        margin-top: 6px;
        font-size: 0.9rem;
        color: var(--color-text-secondary);
      }

      /* ===========================
         íƒ­ ë„¤ë¹„ê²Œì´ì…˜
         =========================== */
      .tab-nav {
        display: flex;
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        padding: 5px;
        margin-bottom: 20px;
        box-shadow: var(--shadow-sm);
        gap: 4px;
      }

      .tab-button {
        flex: 1;
        background: none;
        border: none;
        border-radius: var(--radius-md);
        padding: 11px 16px;
        font-size: 0.9rem;
        font-weight: 600;
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: background var(--transition), color var(--transition), box-shadow var(--transition);
      }

      .tab-button:hover {
        color: var(--color-primary);
        background: var(--color-primary-light);
      }

      .tab-button.active {
        background: var(--color-primary);
        color: #fff;
        box-shadow: var(--shadow-sm);
      }

      /* ===========================
         íƒ­ íŒ¨ë„ (ê³µí†µ)
         =========================== */
      .tab-panel {
        display: none;
      }

      .tab-panel.active {
        display: block;
        animation: fadeIn 0.18s ease;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(6px); }
        to   { opacity: 1; transform: translateY(0); }
      }

      /* ===========================
         ì…ë ¥ í¼ ì¹´ë“œ (ì˜¤ëŠ˜ í•  ì¼ íƒ­)
         =========================== */
      .input-card {
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        padding: 20px;
        box-shadow: var(--shadow-md);
        margin-bottom: 20px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .todo-time-input {
        border: 2px solid var(--color-border);
        border-radius: var(--radius-sm);
        padding: 12px 12px;
        font-size: 0.95rem;
        color: var(--color-text-primary);
        outline: none;
        transition: border-color var(--transition), box-shadow var(--transition);
        background: var(--color-bg);
        font-family: inherit;
        width: 130px;
        cursor: pointer;
      }

      .todo-time-input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.15);
        background: var(--color-surface);
      }

      .todo-input {
        flex: 1;
        border: 2px solid var(--color-border);
        border-radius: var(--radius-sm);
        padding: 12px 16px;
        font-size: 0.95rem;
        color: var(--color-text-primary);
        outline: none;
        transition: border-color var(--transition), box-shadow var(--transition);
        background: var(--color-bg);
      }

      .todo-input::placeholder {
        color: var(--color-text-muted);
      }

      .todo-input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.15);
        background: var(--color-surface);
      }

      .add-button {
        background: var(--color-primary);
        color: #fff;
        border: none;
        border-radius: var(--radius-sm);
        padding: 12px 20px;
        font-size: 0.95rem;
        font-weight: 700;
        cursor: pointer;
        transition: background var(--transition), transform var(--transition), box-shadow var(--transition);
        white-space: nowrap;
        box-shadow: var(--shadow-sm);
      }

      .add-button:hover {
        background: var(--color-primary-hover);
        box-shadow: var(--shadow-md);
      }

      .add-button:active {
        transform: scale(0.97);
      }

      /* ===========================
         ìš”ì•½ í†µê³„ ë°”
         =========================== */
      .summary-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 4px;
        margin-bottom: 14px;
        font-size: 0.85rem;
        color: var(--color-text-secondary);
      }

      .summary-bar .count-badge {
        background: var(--color-primary-light);
        color: var(--color-primary);
        font-weight: 700;
        border-radius: 20px;
        padding: 3px 10px;
        font-size: 0.8rem;
      }

      .clear-done-button {
        background: none;
        border: none;
        color: var(--color-danger);
        font-size: 0.82rem;
        cursor: pointer;
        padding: 4px 8px;
        border-radius: var(--radius-sm);
        transition: background var(--transition);
        font-weight: 600;
      }

      .clear-done-button:hover {
        background: #fee2e2;
      }

      .clear-done-button:disabled {
        color: var(--color-text-muted);
        cursor: default;
        background: none;
      }

      /* ===========================
         í•  ì¼ ëª©ë¡ ì»¨í…Œì´ë„ˆ
         =========================== */
      .todo-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      /* ë¹ˆ ìƒíƒœ ì•ˆë‚´ ë©”ì‹œì§€ */
      .empty-state {
        text-align: center;
        padding: 56px 20px;
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-sm);
      }

      .empty-state .empty-icon {
        font-size: 3rem;
        margin-bottom: 12px;
      }

      .empty-state p {
        color: var(--color-text-secondary);
        font-size: 0.95rem;
        line-height: 1.6;
      }

      .empty-state p strong {
        color: var(--color-primary);
      }

      /* ===========================
         ê°œë³„ í•  ì¼ ì•„ì´í…œ
         =========================== */
      .todo-item {
        background: var(--color-surface);
        border-radius: var(--radius-md);
        padding: 16px 18px;
        display: flex;
        align-items: center;
        gap: 14px;
        box-shadow: var(--shadow-sm);
        border: 1.5px solid transparent;
        transition:
          box-shadow var(--transition),
          border-color var(--transition),
          background var(--transition),
          opacity var(--transition),
          transform var(--transition);
        animation: slideIn 0.22s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .todo-item:hover {
        box-shadow: var(--shadow-md);
        border-color: var(--color-border);
      }

      /* ì™„ë£Œ ìƒíƒœ ì•„ì´í…œ ìŠ¤íƒ€ì¼ */
      .todo-item.completed {
        background: var(--color-done-bg);
        border-color: transparent;
        box-shadow: none;
      }

      .todo-item.completed .todo-text {
        text-decoration: line-through;
        color: var(--color-done-text);
      }

      /* ì²´í¬ë°•ìŠ¤ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
      .todo-checkbox {
        appearance: none;
        -webkit-appearance: none;
        width: 22px;
        height: 22px;
        min-width: 22px;
        border: 2px solid var(--color-border);
        border-radius: 6px;
        cursor: pointer;
        position: relative;
        transition: border-color var(--transition), background var(--transition);
        background: var(--color-surface);
      }

      .todo-checkbox:hover {
        border-color: var(--color-primary);
      }

      .todo-checkbox:checked {
        background: var(--color-success);
        border-color: var(--color-success);
      }

      /* ì²´í¬ í‘œì‹œ (ì˜ì‚¬ ìš”ì†Œ í™œìš©) */
      .todo-checkbox:checked::after {
        content: '';
        position: absolute;
        left: 5px;
        top: 2px;
        width: 7px;
        height: 12px;
        border: 2.5px solid #fff;
        border-top: none;
        border-left: none;
        transform: rotate(45deg);
      }

      /* í•  ì¼ í…ìŠ¤íŠ¸ */
      .todo-text {
        flex: 1;
        font-size: 0.97rem;
        line-height: 1.5;
        word-break: break-all;
        color: var(--color-text-primary);
        transition: color var(--transition);
      }

      /* ë‚ ì§œ í‘œì‹œ */
      .todo-date {
        font-size: 0.75rem;
        color: var(--color-text-muted);
        white-space: nowrap;
        margin-left: 4px;
      }

      /* ì‚­ì œ ë²„íŠ¼ */
      .delete-button {
        background: none;
        border: none;
        color: var(--color-text-muted);
        cursor: pointer;
        padding: 6px;
        border-radius: var(--radius-sm);
        line-height: 1;
        font-size: 1.1rem;
        transition: color var(--transition), background var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .delete-button:hover {
        color: var(--color-danger);
        background: #fee2e2;
      }

      /* ===========================
         ì§„í–‰ë¥  ë°”
         =========================== */
      .progress-section {
        margin-bottom: 20px;
        background: var(--color-surface);
        border-radius: var(--radius-md);
        padding: 14px 18px;
        box-shadow: var(--shadow-sm);
      }

      .progress-label {
        display: flex;
        justify-content: space-between;
        font-size: 0.82rem;
        color: var(--color-text-secondary);
        margin-bottom: 8px;
      }

      .progress-label span:last-child {
        font-weight: 700;
        color: var(--color-primary);
      }

      .progress-track {
        background: var(--color-border);
        border-radius: 99px;
        height: 8px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--color-primary), var(--color-success));
        border-radius: 99px;
        transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        width: 0%;
      }

      /* ===========================
         ìº˜ë¦°ë” â€” ì¼ì • ê³„íš íƒ­
         =========================== */

      /* ìº˜ë¦°ë” í—¤ë”: ì—°/ì›” ë„¤ë¹„ê²Œì´ì…˜ */
      .calendar-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        padding: 16px 20px;
        margin-bottom: 12px;
        box-shadow: var(--shadow-sm);
      }

      .calendar-nav-button {
        background: none;
        border: 2px solid var(--color-border);
        border-radius: var(--radius-sm);
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1rem;
        color: var(--color-text-secondary);
        transition: border-color var(--transition), color var(--transition), background var(--transition);
      }

      .calendar-nav-button:hover {
        border-color: var(--color-primary);
        color: var(--color-primary);
        background: var(--color-primary-light);
      }

      .calendar-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--color-text-primary);
        letter-spacing: -0.3px;
      }

      /* ìš”ì¼ í—¤ë” í–‰ */
      .calendar-weekdays {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 4px;
        margin-bottom: 4px;
        padding: 0 2px;
      }

      .calendar-weekday-label {
        text-align: center;
        font-size: 0.75rem;
        font-weight: 700;
        padding: 6px 0;
        color: var(--color-text-muted);
      }

      /* ì¼ìš”ì¼ Â· í† ìš”ì¼ ìƒ‰ìƒ */
      .calendar-weekday-label:first-child {
        color: #ef4444;
      }

      .calendar-weekday-label:last-child {
        color: #3b82f6;
      }

      /* ë‚ ì§œ ê·¸ë¦¬ë“œ */
      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 4px;
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        padding: 12px;
        box-shadow: var(--shadow-sm);
        margin-bottom: 16px;
      }

      /* ê°œë³„ ë‚ ì§œ ì…€ */
      .calendar-day {
        aspect-ratio: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: var(--radius-sm);
        cursor: pointer;
        position: relative;
        transition: background var(--transition), color var(--transition);
        gap: 3px;
        min-height: 40px;
      }

      .calendar-day:hover {
        background: var(--color-primary-light);
      }

      /* ë‚ ì§œ ìˆ«ì */
      .calendar-day-number {
        font-size: 0.88rem;
        font-weight: 500;
        line-height: 1;
      }

      /* ì´ì „/ë‹¤ìŒ ë‹¬ì˜ ë‚ ì§œ (íë¦¬ê²Œ ì²˜ë¦¬) */
      .calendar-day.other-month {
        opacity: 0.3;
        cursor: default;
      }

      .calendar-day.other-month:hover {
        background: none;
      }

      /* ì˜¤ëŠ˜ ë‚ ì§œ ê°•ì¡° */
      .calendar-day.today .calendar-day-number {
        background: var(--color-primary);
        color: #fff;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
      }

      /* ì„ íƒëœ ë‚ ì§œ */
      .calendar-day.selected {
        background: var(--color-primary-light);
        border: 2px solid var(--color-primary);
      }

      .calendar-day.selected.today .calendar-day-number {
        background: var(--color-primary);
        color: #fff;
      }

      /* ì¼ìš”ì¼ ë‚ ì§œ ë¹¨ê°„ìƒ‰ */
      .calendar-day.sunday .calendar-day-number {
        color: #ef4444;
      }

      .calendar-day.sunday.today .calendar-day-number,
      .calendar-day.sunday.selected .calendar-day-number {
        background: #ef4444;
        color: #fff;
      }

      /* í† ìš”ì¼ ë‚ ì§œ íŒŒë€ìƒ‰ */
      .calendar-day.saturday .calendar-day-number {
        color: #3b82f6;
      }

      .calendar-day.saturday.today .calendar-day-number,
      .calendar-day.saturday.selected .calendar-day-number {
        background: #3b82f6;
        color: #fff;
      }

      /* ì¼ì • ìˆëŠ” ë‚ ì§œì˜ ì (dot) í‘œì‹œ */
      .calendar-day-dot {
        width: 5px;
        height: 5px;
        border-radius: 50%;
        background: var(--color-primary);
        flex-shrink: 0;
      }

      .calendar-day.sunday .calendar-day-dot {
        background: #ef4444;
      }

      .calendar-day.saturday .calendar-day-dot {
        background: #3b82f6;
      }

      /* ===========================
         ì„ íƒëœ ë‚ ì§œ ì¼ì • íŒ¨ë„
         =========================== */
      .schedule-panel {
        background: var(--color-surface);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-md);
        overflow: hidden;
        animation: slideIn 0.22s ease;
      }

      /* íŒ¨ë„ í—¤ë” */
      .schedule-panel-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px 20px;
        border-bottom: 1px solid var(--color-border);
        background: var(--color-primary-light);
      }

      .schedule-panel-title {
        font-size: 0.95rem;
        font-weight: 700;
        color: var(--color-primary);
      }

      .schedule-panel-count {
        font-size: 0.8rem;
        color: var(--color-text-secondary);
      }

      /* ì¼ì • ì…ë ¥ ì˜ì—­ */
      .schedule-input-row {
        display: flex;
        gap: 8px;
        padding: 14px 16px;
        border-bottom: 1px solid var(--color-border);
        flex-wrap: wrap;
      }

      .schedule-time-input {
        border: 2px solid var(--color-border);
        border-radius: var(--radius-sm);
        padding: 10px 12px;
        font-size: 0.9rem;
        color: var(--color-text-primary);
        outline: none;
        transition: border-color var(--transition), box-shadow var(--transition);
        background: var(--color-bg);
        font-family: inherit;
        width: 120px;
        cursor: pointer;
      }

      .schedule-time-input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.12);
        background: var(--color-surface);
      }

      .schedule-input {
        flex: 1;
        border: 2px solid var(--color-border);
        border-radius: var(--radius-sm);
        padding: 10px 14px;
        font-size: 0.9rem;
        color: var(--color-text-primary);
        outline: none;
        transition: border-color var(--transition), box-shadow var(--transition);
        background: var(--color-bg);
        font-family: inherit;
        min-width: 0;
      }

      .schedule-input::placeholder {
        color: var(--color-text-muted);
      }

      .schedule-input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.12);
        background: var(--color-surface);
      }

      .schedule-add-button {
        background: var(--color-primary);
        color: #fff;
        border: none;
        border-radius: var(--radius-sm);
        padding: 10px 16px;
        font-size: 0.88rem;
        font-weight: 700;
        cursor: pointer;
        white-space: nowrap;
        transition: background var(--transition), transform var(--transition);
        font-family: inherit;
      }

      .schedule-add-button:hover {
        background: var(--color-primary-hover);
      }

      .schedule-add-button:active {
        transform: scale(0.96);
      }

      /* ì¼ì • ëª©ë¡ */
      .schedule-list {
        list-style: none;
        max-height: 280px;
        overflow-y: auto;
      }

      /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ (Webkit ê³„ì—´) */
      .schedule-list::-webkit-scrollbar {
        width: 4px;
      }

      .schedule-list::-webkit-scrollbar-track {
        background: transparent;
      }

      .schedule-list::-webkit-scrollbar-thumb {
        background: var(--color-border);
        border-radius: 99px;
      }

      /* ê°œë³„ ì¼ì • ì•„ì´í…œ */
      .schedule-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 13px 16px;
        border-bottom: 1px solid var(--color-border);
        transition: background var(--transition);
        animation: slideIn 0.2s ease;
      }

      .schedule-item:last-child {
        border-bottom: none;
      }

      .schedule-item:hover {
        background: var(--color-bg);
      }

      /* ì¼ì • ì‹œê°„ ë±ƒì§€ */
      .schedule-time-badge {
        font-size: 0.72rem;
        color: var(--color-text-muted);
        white-space: nowrap;
        flex-shrink: 0;
      }

      /* ì¼ì • ì œëª© í…ìŠ¤íŠ¸ */
      .schedule-title-text {
        flex: 1;
        font-size: 0.93rem;
        line-height: 1.5;
        word-break: break-all;
        color: var(--color-text-primary);
      }

      /* ì¼ì • ì‚­ì œ ë²„íŠ¼ */
      .schedule-delete-button {
        background: none;
        border: none;
        color: var(--color-text-muted);
        cursor: pointer;
        padding: 5px;
        border-radius: var(--radius-sm);
        font-size: 1rem;
        line-height: 1;
        transition: color var(--transition), background var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .schedule-delete-button:hover {
        color: var(--color-danger);
        background: #fee2e2;
      }

      /* ì¼ì • ì—†ëŠ” ë‚  ì•ˆë‚´ */
      .schedule-empty {
        text-align: center;
        padding: 32px 20px;
        color: var(--color-text-muted);
        font-size: 0.88rem;
        line-height: 1.6;
      }

      .schedule-empty-icon {
        font-size: 2rem;
        margin-bottom: 8px;
      }

      /* ===========================
         ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼)
         =========================== */
      @media (max-width: 480px) {
        body {
          padding: 28px 10px 60px;
        }

        .app-header h1 {
          font-size: 1.6rem;
        }

        .input-card {
          flex-direction: column;
          gap: 10px;
        }

        .todo-time-input {
          width: 100%;
        }

        .add-button {
          width: 100%;
          padding: 13px;
        }

        .calendar-grid {
          padding: 8px;
          gap: 2px;
        }

        .calendar-day {
          min-height: 34px;
        }

        .calendar-day-number {
          font-size: 0.8rem;
        }

        .calendar-day.today .calendar-day-number {
          width: 24px;
          height: 24px;
        }

        .calendar-title {
          font-size: 0.97rem;
        }

        .schedule-input-row {
          flex-direction: column;
        }

        .schedule-time-input {
          width: 100%;
        }

        .schedule-add-button {
          width: 100%;
          padding: 11px;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <!-- ì•± í—¤ë” -->
      <header class="app-header">
        <h1>ìœ ë¯¸ë¥¼ ìœ„í•œ í•  ì¼ ëª©ë¡</h1>
        <p>ì˜¤ëŠ˜ í•  ì¼ê³¼ ì¼ì •ì„ í•œëˆˆì— ê´€ë¦¬í•´ë³´ì„¸ìš”</p>
      </header>

      <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
      <nav class="tab-nav" role="tablist" aria-label="ë©”ë‰´ íƒ­">
        <button
          class="tab-button active"
          id="tabTodo"
          role="tab"
          aria-selected="true"
          aria-controls="panelTodo"
          type="button"
        >
          ì˜¤ëŠ˜ í•  ì¼
        </button>
        <button
          class="tab-button"
          id="tabSchedule"
          role="tab"
          aria-selected="false"
          aria-controls="panelSchedule"
          type="button"
        >
          ì¼ì • ê³„íš
        </button>
      </nav>

      <!-- ==============================
           ì˜¤ëŠ˜ í•  ì¼ íƒ­ íŒ¨ë„
           ============================== -->
      <div class="tab-panel active" id="panelTodo" role="tabpanel" aria-labelledby="tabTodo">

        <!-- í•  ì¼ ì…ë ¥ í¼ -->
        <div class="input-card">
          <input
            type="time"
            id="todoTimeInput"
            class="todo-time-input"
            title="ì‹œê°„ ì„ íƒ (ì„ íƒì‚¬í•­)"
          />
          <input
            type="text"
            id="todoInput"
            class="todo-input"
            placeholder="í•  ì¼ì„ ì…ë ¥í•˜ê³  ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”..."
            maxlength="100"
            autocomplete="off"
          />
          <button id="addButton" class="add-button" type="button">+ ì¶”ê°€</button>
        </div>

        <!-- ì§„í–‰ë¥  í‘œì‹œ ì˜ì—­ -->
        <div class="progress-section" id="progressSection" style="display: none;">
          <div class="progress-label">
            <span>ì§„í–‰ë¥ </span>
            <span id="progressText">0 / 0 ì™„ë£Œ</span>
          </div>
          <div class="progress-track">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>

        <!-- ìš”ì•½ í†µê³„ ë°” -->
        <div class="summary-bar" id="summaryBar" style="display: none;">
          <span>
            ì „ì²´ <span class="count-badge" id="totalCount">0</span>ê°œ
          </span>
          <button
            class="clear-done-button"
            id="clearDoneButton"
            type="button"
            disabled
          >
            ì™„ë£Œ í•­ëª© ì‚­ì œ
          </button>
        </div>

        <!-- í•  ì¼ ëª©ë¡ ë Œë”ë§ ì˜ì—­ -->
        <ul class="todo-list" id="todoList" role="list" aria-label="í•  ì¼ ëª©ë¡"></ul>
      </div>

      <!-- ==============================
           ì¼ì • ê³„íš íƒ­ íŒ¨ë„
           ============================== -->
      <div class="tab-panel" id="panelSchedule" role="tabpanel" aria-labelledby="tabSchedule">

        <!-- ìº˜ë¦°ë” ì›” ë„¤ë¹„ê²Œì´ì…˜ í—¤ë” -->
        <div class="calendar-header">
          <button
            class="calendar-nav-button"
            id="calPrevButton"
            type="button"
            aria-label="ì´ì „ ë‹¬"
          >&#8249;</button>
          <span class="calendar-title" id="calTitle"></span>
          <button
            class="calendar-nav-button"
            id="calNextButton"
            type="button"
            aria-label="ë‹¤ìŒ ë‹¬"
          >&#8250;</button>
        </div>

        <!-- ìš”ì¼ í—¤ë” -->
        <div class="calendar-weekdays" aria-hidden="true">
          <div class="calendar-weekday-label">ì¼</div>
          <div class="calendar-weekday-label">ì›”</div>
          <div class="calendar-weekday-label">í™”</div>
          <div class="calendar-weekday-label">ìˆ˜</div>
          <div class="calendar-weekday-label">ëª©</div>
          <div class="calendar-weekday-label">ê¸ˆ</div>
          <div class="calendar-weekday-label">í† </div>
        </div>

        <!-- ë‚ ì§œ ê·¸ë¦¬ë“œ (JSë¡œ ì±„ì›Œì§) -->
        <div class="calendar-grid" id="calendarGrid" role="grid" aria-label="ë‚ ì§œ ì„ íƒ"></div>

        <!-- ì„ íƒëœ ë‚ ì§œì˜ ì¼ì • íŒ¨ë„ (ì´ˆê¸°ì—ëŠ” ë¯¸ì„ íƒ ìƒíƒœ) -->
        <div id="schedulePanel" style="display: none;"></div>
      </div>
    </div>

    <script>
      // =========================================
      // ìƒìˆ˜ ë° ì „ì—­ ì„¤ì •
      // =========================================

      /** localStorage í‚¤: ì˜¤ëŠ˜ í•  ì¼ */
      const TODO_STORAGE_KEY = 'todo-app-items';

      /** localStorage í‚¤: ì¼ì • ê³„íš (ê¸°ì¡´ TODOì™€ ë¶„ë¦¬) */
      const SCHEDULE_STORAGE_KEY = 'schedule-app-events';

      /** í•  ì¼ ì™„ë£Œ ì—¬ë¶€ ìƒíƒœ ê°’ */
      const STATUS = {
        ACTIVE: 'active',
        DONE: 'done',
      };

      /** ìš”ì¼ ì´ë¦„ (ìº˜ë¦°ë” ì ‘ê·¼ì„±ìš©) */
      const WEEKDAY_NAMES = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];

      // =========================================
      // ê³µí†µ ìƒíƒœ (State)
      // =========================================

      /** ì „ì²´ í•  ì¼ í•­ëª© ë°°ì—´ */
      let todoItems = [];

      /**
       * ì¼ì • ë°ì´í„° êµ¬ì¡°: { 'YYYY-MM-DD': [{ id, title, createdAt }, ...] }
       * ë‚ ì§œë¥¼ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ O(1) ì¡°íšŒë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
       */
      let scheduleData = {};

      /** í˜„ì¬ ìº˜ë¦°ë”ê°€ í‘œì‹œ ì¤‘ì¸ ì—°ë„ */
      let calendarYear = new Date().getFullYear();

      /** í˜„ì¬ ìº˜ë¦°ë”ê°€ í‘œì‹œ ì¤‘ì¸ ì›” (0-indexed) */
      let calendarMonth = new Date().getMonth();

      /** í˜„ì¬ ì„ íƒëœ ë‚ ì§œ í‚¤ ('YYYY-MM-DD' í˜•ì‹, nullì´ë©´ ë¯¸ì„ íƒ) */
      let selectedDateKey = null;

      // =========================================
      // TODO ìŠ¤í† ë¦¬ì§€ ë ˆì´ì–´
      // =========================================

      /**
       * localStorageì—ì„œ í•  ì¼ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
       * @returns {Array}
       */
      function loadTodosFromStorage() {
        try {
          const raw = localStorage.getItem(TODO_STORAGE_KEY);
          return raw ? JSON.parse(raw) : [];
        } catch {
          return [];
        }
      }

      /**
       * í˜„ì¬ í•  ì¼ ìƒíƒœë¥¼ localStorageì— ì €ì¥í•©ë‹ˆë‹¤.
       */
      function saveTodosToStorage() {
        try {
          localStorage.setItem(TODO_STORAGE_KEY, JSON.stringify(todoItems));
        } catch {
          console.warn('í•  ì¼ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      }

      // =========================================
      // ì¼ì • ìŠ¤í† ë¦¬ì§€ ë ˆì´ì–´
      // =========================================

      /**
       * localStorageì—ì„œ ì¼ì • ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
       * @returns {Object} ë‚ ì§œ í‚¤ ê¸°ë°˜ ì¼ì • ê°ì²´
       */
      function loadScheduleFromStorage() {
        try {
          const raw = localStorage.getItem(SCHEDULE_STORAGE_KEY);
          return raw ? JSON.parse(raw) : {};
        } catch {
          return {};
        }
      }

      /**
       * í˜„ì¬ ì¼ì • ìƒíƒœë¥¼ localStorageì— ì €ì¥í•©ë‹ˆë‹¤.
       */
      function saveScheduleToStorage() {
        try {
          localStorage.setItem(SCHEDULE_STORAGE_KEY, JSON.stringify(scheduleData));
        } catch {
          console.warn('ì¼ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      }

      // =========================================
      // ë‚ ì§œ ìœ í‹¸ë¦¬í‹°
      // =========================================

      /**
       * ì—°ë„, ì›”, ì¼ì„ ë°›ì•„ 'YYYY-MM-DD' í˜•ì‹ì˜ í‚¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @param {number} year
       * @param {number} month - 0-indexed
       * @param {number} day
       * @returns {string}
       */
      function buildDateKey(year, month, day) {
        const mm = String(month + 1).padStart(2, '0');
        const dd = String(day).padStart(2, '0');
        return `${year}-${mm}-${dd}`;
      }

      /**
       * 'YYYY-MM-DD' í‚¤ë¥¼ í•œêµ­ì–´ ë‚ ì§œ í‘œê¸° ë¬¸ìì—´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
       * @param {string} dateKey
       * @returns {string} ì˜ˆ: '2025ë…„ 3ì›” 5ì¼ (í™”)'
       */
      function formatDateKeyToKorean(dateKey) {
        const [year, month, day] = dateKey.split('-').map(Number);
        // monthëŠ” 1-indexedì´ë¯€ë¡œ -1 ì²˜ë¦¬
        const date = new Date(year, month - 1, day);
        const weekday = WEEKDAY_NAMES[date.getDay()];
        return `${year}ë…„ ${month}ì›” ${day}ì¼ (${weekday})`;
      }

      /**
       * ì˜¤ëŠ˜ ë‚ ì§œì˜ 'YYYY-MM-DD' í‚¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @returns {string}
       */
      function getTodayKey() {
        const today = new Date();
        return buildDateKey(today.getFullYear(), today.getMonth(), today.getDate());
      }

      // =========================================
      // TODO ë„ë©”ì¸ í—¬í¼
      // =========================================

      /**
       * ìƒˆ í•  ì¼ í•­ëª© ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
       * @param {string} text
       * @returns {Object}
       */
      function createTodoItem(text, time) {
        return {
          id: Date.now().toString(),
          text: text.trim(),
          time: time || '',
          status: STATUS.ACTIVE,
          createdAt: new Date().toISOString(),
        };
      }

      /**
       * í•  ì¼ í•­ëª©ì˜ ì™„ë£Œ ìƒíƒœë¥¼ í† ê¸€í•©ë‹ˆë‹¤.
       * @param {string} id
       */
      function toggleTodoStatus(id) {
        todoItems = todoItems.map((item) =>
          item.id === id
            ? { ...item, status: item.status === STATUS.DONE ? STATUS.ACTIVE : STATUS.DONE }
            : item
        );
      }

      /**
       * íŠ¹ì • í•  ì¼ í•­ëª©ì„ ì‚­ì œí•©ë‹ˆë‹¤.
       * @param {string} id
       */
      function deleteTodoItem(id) {
        todoItems = todoItems.filter((item) => item.id !== id);
      }

      /**
       * ì™„ë£Œëœ ëª¨ë“  í•  ì¼ í•­ëª©ì„ ì¼ê´„ ì‚­ì œí•©ë‹ˆë‹¤.
       */
      function clearCompletedItems() {
        todoItems = todoItems.filter((item) => item.status !== STATUS.DONE);
      }

      // =========================================
      // ì¼ì • ë„ë©”ì¸ í—¬í¼
      // =========================================

      /**
       * íŠ¹ì • ë‚ ì§œì— ìƒˆ ì¼ì •ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
       * @param {string} dateKey - 'YYYY-MM-DD'
       * @param {string} title - ì¼ì • ì œëª©
       * @param {string} time - 'HH:MM' í˜•ì‹ì˜ ì‹œê°„ (ì„ íƒì‚¬í•­)
       */
      function addScheduleEvent(dateKey, title, time) {
        if (!scheduleData[dateKey]) {
          scheduleData[dateKey] = [];
        }
        scheduleData[dateKey].push({
          id: Date.now().toString(),
          title: title.trim(),
          time: time || '',
          createdAt: new Date().toISOString(),
        });
        // ì‹œê°„ìˆœ ì •ë ¬ (ì‹œê°„ ë¯¸ì§€ì •ì€ ë§¨ ë’¤)
        scheduleData[dateKey].sort((a, b) => {
          if (!a.time && !b.time) return 0;
          if (!a.time) return 1;
          if (!b.time) return -1;
          return a.time.localeCompare(b.time);
        });
      }

      /**
       * íŠ¹ì • ë‚ ì§œì˜ íŠ¹ì • ì¼ì •ì„ ì‚­ì œí•©ë‹ˆë‹¤.
       * @param {string} dateKey
       * @param {string} eventId
       */
      function deleteScheduleEvent(dateKey, eventId) {
        if (!scheduleData[dateKey]) return;
        scheduleData[dateKey] = scheduleData[dateKey].filter((e) => e.id !== eventId);
        // í•´ë‹¹ ë‚ ì§œì— ì¼ì •ì´ ì—†ì–´ì§€ë©´ í‚¤ ìì²´ë¥¼ ì‚­ì œí•˜ì—¬ ì €ì¥ ê³µê°„ ì ˆì•½
        if (scheduleData[dateKey].length === 0) {
          delete scheduleData[dateKey];
        }
      }

      /**
       * íŠ¹ì • ë‚ ì§œì— ì¼ì •ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
       * @param {string} dateKey
       * @returns {boolean}
       */
      function hasScheduleEvents(dateKey) {
        return !!(scheduleData[dateKey] && scheduleData[dateKey].length > 0);
      }

      /**
       * íŠ¹ì • ë‚ ì§œì˜ ì¼ì • ê°œìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
       * @param {string} dateKey
       * @returns {number}
       */
      function getEventCount(dateKey) {
        return scheduleData[dateKey] ? scheduleData[dateKey].length : 0;
      }

      // =========================================
      // TODO ë·° ë Œë”ë§
      // =========================================

      /**
       * ë‚ ì§œ ë¬¸ìì—´ì„ 'ì˜¤ëŠ˜', 'ì–´ì œ', ë˜ëŠ” 'MM/DD' í˜•íƒœë¡œ í¬ë§·í•©ë‹ˆë‹¤.
       * @param {string} isoString
       * @returns {string}
       */
      function formatDate(isoString) {
        const created = new Date(isoString);
        const today = new Date();
        const diffMs = today.setHours(0, 0, 0, 0) - created.setHours(0, 0, 0, 0);
        const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

        if (diffDays === 0) return 'ì˜¤ëŠ˜';
        if (diffDays === 1) return 'ì–´ì œ';
        const m = created.getMonth() + 1;
        const d = created.getDate();
        return `${m}/${d}`;
      }

      /**
       * ê°œë³„ í•  ì¼ í•­ëª©ì˜ li ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
       * @param {Object} item
       * @returns {HTMLLIElement}
       */
      function createTodoElement(item) {
        const li = document.createElement('li');
        li.className = 'todo-item' + (item.status === STATUS.DONE ? ' completed' : '');
        li.dataset.id = item.id;
        li.setAttribute('role', 'listitem');

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.className = 'todo-checkbox';
        checkbox.checked = item.status === STATUS.DONE;
        checkbox.setAttribute('aria-label', `ì™„ë£Œ ì—¬ë¶€: ${item.text}`);
        checkbox.addEventListener('change', () => handleToggle(item.id));

        const textSpan = document.createElement('span');
        textSpan.className = 'todo-text';
        textSpan.textContent = item.text;

        const dateSpan = document.createElement('span');
        dateSpan.className = 'todo-date';
        const timeLabel = item.time ? item.time + ' Â· ' : '';
        dateSpan.textContent = timeLabel + formatDate(item.createdAt);
        dateSpan.setAttribute('aria-label', `${item.time ? 'ì‹œê°„: ' + item.time + ', ' : ''}ì¶”ê°€ ë‚ ì§œ: ${formatDate(item.createdAt)}`);

        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'delete-button';
        deleteBtn.type = 'button';
        deleteBtn.textContent = 'âœ•';
        deleteBtn.setAttribute('aria-label', `ì‚­ì œ: ${item.text}`);
        deleteBtn.addEventListener('click', () => handleDelete(item.id));

        li.appendChild(checkbox);
        li.appendChild(textSpan);
        li.appendChild(dateSpan);
        li.appendChild(deleteBtn);

        return li;
      }

      /**
       * ë¹ˆ ìƒíƒœ ì•ˆë‚´ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
       * @returns {HTMLDivElement}
       */
      function createEmptyStateElement() {
        const div = document.createElement('div');
        div.className = 'empty-state';
        div.setAttribute('role', 'status');
        div.setAttribute('aria-live', 'polite');
        div.innerHTML = `
          <div class="empty-icon">ğŸ“‹</div>
          <p>ì•„ì§ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤.<br/><strong>ìœ„ ì…ë ¥ì°½</strong>ì— í•  ì¼ì„ ì‘ì„±í•˜ê³  ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
        `;
        return div;
      }

      /**
       * ì§„í–‰ë¥  ë°”ì™€ ìš”ì•½ í†µê³„ë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
       */
      function updateSummary() {
        const total = todoItems.length;
        const doneCount = todoItems.filter((item) => item.status === STATUS.DONE).length;
        const percent = total === 0 ? 0 : Math.round((doneCount / total) * 100);

        const progressSection = document.getElementById('progressSection');
        const summaryBar = document.getElementById('summaryBar');
        const totalCountEl = document.getElementById('totalCount');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const clearDoneBtn = document.getElementById('clearDoneButton');

        if (total === 0) {
          progressSection.style.display = 'none';
          summaryBar.style.display = 'none';
          return;
        }

        progressSection.style.display = 'block';
        summaryBar.style.display = 'flex';

        totalCountEl.textContent = total;
        progressFill.style.width = percent + '%';
        progressText.textContent = `${doneCount} / ${total} ì™„ë£Œ (${percent}%)`;
        clearDoneBtn.disabled = doneCount === 0;
      }

      /**
       * ì „ì²´ í•  ì¼ ëª©ë¡ì„ DOMì— ë Œë”ë§í•©ë‹ˆë‹¤.
       */
      function renderTodoList() {
        const listEl = document.getElementById('todoList');
        listEl.innerHTML = '';

        if (todoItems.length === 0) {
          listEl.appendChild(createEmptyStateElement());
        } else {
          todoItems.forEach((item) => {
            listEl.appendChild(createTodoElement(item));
          });
        }

        updateSummary();
      }

      // =========================================
      // ìº˜ë¦°ë” ë·° ë Œë”ë§
      // =========================================

      /**
       * ìº˜ë¦°ë” ì œëª©(ì—°ì›”)ê³¼ ë‚ ì§œ ê·¸ë¦¬ë“œë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.
       * ì„ íƒëœ ë‚ ì§œê°€ í˜„ì¬ ì›”ì— ì†í•˜ì§€ ì•Šìœ¼ë©´ ì„ íƒ í•´ì œí•©ë‹ˆë‹¤.
       */
      function renderCalendar() {
        // ìº˜ë¦°ë” ì œëª© ì—…ë°ì´íŠ¸
        const titleEl = document.getElementById('calTitle');
        titleEl.textContent = `${calendarYear}ë…„ ${calendarMonth + 1}ì›”`;

        const gridEl = document.getElementById('calendarGrid');
        gridEl.innerHTML = '';

        const todayKey = getTodayKey();

        // ì´ë²ˆ ë‹¬ 1ì¼ì˜ ìš”ì¼ (0=ì¼, 6=í† )
        const firstDayOfMonth = new Date(calendarYear, calendarMonth, 1).getDay();
        // ì´ë²ˆ ë‹¬ ë§ˆì§€ë§‰ ë‚ 
        const lastDateOfMonth = new Date(calendarYear, calendarMonth + 1, 0).getDate();
        // ì´ì „ ë‹¬ ë§ˆì§€ë§‰ ë‚ 
        const lastDateOfPrevMonth = new Date(calendarYear, calendarMonth, 0).getDate();

        // ê·¸ë¦¬ë“œë¥¼ ì±„ìš¸ ì´ ì…€ ìˆ˜: 6ì£¼ x 7ì¼ = 42 (í•­ìƒ ì¼ì •í•œ ë†’ì´ ìœ ì§€)
        const TOTAL_CELLS = 42;

        for (let i = 0; i < TOTAL_CELLS; i++) {
          const cell = document.createElement('div');
          cell.className = 'calendar-day';
          cell.setAttribute('role', 'gridcell');

          let dayNumber;
          let isCurrentMonth = true;
          let cellYear = calendarYear;
          let cellMonth = calendarMonth;

          if (i < firstDayOfMonth) {
            // ì´ì „ ë‹¬ ë‚ ì§œ ì±„ìš°ê¸°
            dayNumber = lastDateOfPrevMonth - firstDayOfMonth + 1 + i;
            isCurrentMonth = false;
            cellMonth = calendarMonth - 1;
            if (cellMonth < 0) { cellMonth = 11; cellYear -= 1; }
          } else if (i >= firstDayOfMonth + lastDateOfMonth) {
            // ë‹¤ìŒ ë‹¬ ë‚ ì§œ ì±„ìš°ê¸°
            dayNumber = i - firstDayOfMonth - lastDateOfMonth + 1;
            isCurrentMonth = false;
            cellMonth = calendarMonth + 1;
            if (cellMonth > 11) { cellMonth = 0; cellYear += 1; }
          } else {
            // í˜„ì¬ ë‹¬ ë‚ ì§œ
            dayNumber = i - firstDayOfMonth + 1;
          }

          const cellDateKey = buildDateKey(cellYear, cellMonth, dayNumber);
          const weekdayIndex = i % 7; // 0=ì¼, 6=í† 

          // ì´ì „/ë‹¤ìŒ ë‹¬ ë‚ ì§œëŠ” íë¦¬ê²Œ í‘œì‹œí•˜ê³  í´ë¦­ ë¹„í™œì„±í™”
          if (!isCurrentMonth) {
            cell.classList.add('other-month');
            cell.setAttribute('aria-hidden', 'true');
          } else {
            // ì˜¤ëŠ˜ ë‚ ì§œ ê°•ì¡°
            if (cellDateKey === todayKey) {
              cell.classList.add('today');
            }
            // ì„ íƒëœ ë‚ ì§œ ê°•ì¡°
            if (cellDateKey === selectedDateKey) {
              cell.classList.add('selected');
            }
            // ì¼ìš”ì¼ / í† ìš”ì¼ ìƒ‰ìƒ
            if (weekdayIndex === 0) cell.classList.add('sunday');
            if (weekdayIndex === 6) cell.classList.add('saturday');

            cell.setAttribute('tabindex', '0');
            cell.setAttribute('aria-label', `${calendarYear}ë…„ ${calendarMonth + 1}ì›” ${dayNumber}ì¼`);
            cell.addEventListener('click', () => handleDateSelect(cellDateKey));
            cell.addEventListener('keydown', (e) => {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                handleDateSelect(cellDateKey);
              }
            });
          }

          // ë‚ ì§œ ìˆ«ì ì—˜ë¦¬ë¨¼íŠ¸
          const numberEl = document.createElement('span');
          numberEl.className = 'calendar-day-number';
          numberEl.textContent = dayNumber;
          cell.appendChild(numberEl);

          // ì¼ì • ìˆëŠ” ë‚ ì§œì— ì (dot) í‘œì‹œ
          if (isCurrentMonth && hasScheduleEvents(cellDateKey)) {
            const dot = document.createElement('span');
            dot.className = 'calendar-day-dot';
            dot.setAttribute('aria-hidden', 'true');
            cell.appendChild(dot);
          }

          gridEl.appendChild(cell);
        }
      }

      /**
       * ì„ íƒëœ ë‚ ì§œì˜ ì¼ì • íŒ¨ë„ì„ ë Œë”ë§í•©ë‹ˆë‹¤.
       * selectedDateKeyê°€ nullì´ë©´ íŒ¨ë„ì„ ìˆ¨ê¹ë‹ˆë‹¤.
       */
      function renderSchedulePanel() {
        const panelEl = document.getElementById('schedulePanel');

        if (!selectedDateKey) {
          panelEl.style.display = 'none';
          panelEl.innerHTML = '';
          return;
        }

        panelEl.style.display = 'block';

        const events = scheduleData[selectedDateKey] || [];
        const koreanDate = formatDateKeyToKorean(selectedDateKey);

        // íŒ¨ë„ ì „ì²´ë¥¼ ìƒˆë¡œ ê·¸ë¦½ë‹ˆë‹¤ (ë‹¨ìˆœ ì¬ë Œë”ë§ ë°©ì‹ ìœ ì§€)
        panelEl.innerHTML = '';

        const panel = document.createElement('div');
        panel.className = 'schedule-panel';

        // --- íŒ¨ë„ í—¤ë” ---
        const header = document.createElement('div');
        header.className = 'schedule-panel-header';

        const titleEl = document.createElement('span');
        titleEl.className = 'schedule-panel-title';
        titleEl.textContent = koreanDate;

        const countEl = document.createElement('span');
        countEl.className = 'schedule-panel-count';
        countEl.textContent = `ì¼ì • ${events.length}ê°œ`;

        header.appendChild(titleEl);
        header.appendChild(countEl);
        panel.appendChild(header);

        // --- ì¼ì • ì…ë ¥ í–‰ ---
        const inputRow = document.createElement('div');
        inputRow.className = 'schedule-input-row';

        const timeInput = document.createElement('input');
        timeInput.type = 'time';
        timeInput.className = 'schedule-time-input';
        timeInput.id = 'scheduleTimeInput';
        timeInput.title = 'ì‹œê°„ ì„ íƒ (ì„ íƒì‚¬í•­)';

        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'schedule-input';
        input.placeholder = 'ìƒˆ ì¼ì •ì„ ì…ë ¥í•˜ì„¸ìš”...';
        input.maxLength = 100;
        input.autocomplete = 'off';
        input.id = 'scheduleInput';

        const addBtn = document.createElement('button');
        addBtn.type = 'button';
        addBtn.className = 'schedule-add-button';
        addBtn.textContent = '+ ì¶”ê°€';
        addBtn.addEventListener('click', () => handleScheduleAdd(selectedDateKey));

        input.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') handleScheduleAdd(selectedDateKey);
        });

        inputRow.appendChild(timeInput);
        inputRow.appendChild(input);
        inputRow.appendChild(addBtn);
        panel.appendChild(inputRow);

        // --- ì¼ì • ëª©ë¡ ---
        const listEl = document.createElement('ul');
        listEl.className = 'schedule-list';
        listEl.setAttribute('role', 'list');
        listEl.setAttribute('aria-label', `${koreanDate} ì¼ì • ëª©ë¡`);

        if (events.length === 0) {
          // ë¹ˆ ìƒíƒœ ì•ˆë‚´
          const emptyDiv = document.createElement('div');
          emptyDiv.className = 'schedule-empty';
          emptyDiv.innerHTML = `
            <div class="schedule-empty-icon">ğŸ“…</div>
            <div>ì´ ë‚ ì˜ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.<br/>ìœ„ ì…ë ¥ì°½ì— ì¼ì •ì„ ì¶”ê°€í•´ë³´ì„¸ìš”.</div>
          `;
          listEl.appendChild(emptyDiv);
        } else {
          events.forEach((event) => {
            const li = document.createElement('li');
            li.className = 'schedule-item';
            li.setAttribute('role', 'listitem');

            // ì‹œê°„ ë±ƒì§€ (ì‚¬ìš©ìê°€ ì„ íƒí•œ ì‹œê°„ ë˜ëŠ” 'ì¢…ì¼')
            const timeBadge = document.createElement('span');
            timeBadge.className = 'schedule-time-badge';
            timeBadge.textContent = event.time ? event.time : 'ì¢…ì¼';

            const titleText = document.createElement('span');
            titleText.className = 'schedule-title-text';
            titleText.textContent = event.title;

            const deleteBtn = document.createElement('button');
            deleteBtn.type = 'button';
            deleteBtn.className = 'schedule-delete-button';
            deleteBtn.textContent = 'âœ•';
            deleteBtn.setAttribute('aria-label', `ì¼ì • ì‚­ì œ: ${event.title}`);
            deleteBtn.addEventListener('click', () => handleScheduleDelete(selectedDateKey, event.id));

            li.appendChild(timeBadge);
            li.appendChild(titleText);
            li.appendChild(deleteBtn);
            listEl.appendChild(li);
          });
        }

        panel.appendChild(listEl);
        panelEl.appendChild(panel);

        // íŒ¨ë„ì´ ìƒˆë¡œ ê·¸ë ¤ì§„ í›„ ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤
        requestAnimationFrame(() => {
          const inputEl = document.getElementById('scheduleInput');
          if (inputEl) inputEl.focus();
        });
      }

      // =========================================
      // TODO ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      // =========================================

      /**
       * í•  ì¼ ì¶”ê°€ ì²˜ë¦¬
       */
      function handleAdd() {
        const input = document.getElementById('todoInput');
        const timeInput = document.getElementById('todoTimeInput');
        const text = input.value.trim();

        if (!text) {
          input.focus();
          input.classList.add('input-error-shake');
          setTimeout(() => input.classList.remove('input-error-shake'), 400);
          return;
        }

        const isDuplicate = todoItems.some(
          (item) => item.status === STATUS.ACTIVE && item.text === text
        );
        if (isDuplicate) {
          console.info('ë™ì¼í•œ ë‚´ìš©ì˜ ë¯¸ì™„ë£Œ í•­ëª©ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤.');
        }

        const time = timeInput ? timeInput.value : '';
        const newItem = createTodoItem(text, time);
        todoItems = [newItem, ...todoItems];

        saveTodosToStorage();
        renderTodoList();

        input.value = '';
        timeInput.value = '';
        input.focus();
      }

      /**
       * í•  ì¼ ì™„ë£Œ ìƒíƒœ í† ê¸€ ì²˜ë¦¬
       * @param {string} id
       */
      function handleToggle(id) {
        toggleTodoStatus(id);
        saveTodosToStorage();
        renderTodoList();
      }

      /**
       * í•  ì¼ í•­ëª© ì‚­ì œ ì²˜ë¦¬
       * @param {string} id
       */
      function handleDelete(id) {
        deleteTodoItem(id);
        saveTodosToStorage();
        renderTodoList();
      }

      /**
       * ì™„ë£Œëœ í•­ëª© ì¼ê´„ ì‚­ì œ ì²˜ë¦¬
       */
      function handleClearDone() {
        const doneCount = todoItems.filter((item) => item.status === STATUS.DONE).length;
        if (doneCount === 0) return;

        if (!confirm(`ì™„ë£Œëœ í•­ëª© ${doneCount}ê°œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) return;

        clearCompletedItems();
        saveTodosToStorage();
        renderTodoList();
      }

      // =========================================
      // ìº˜ë¦°ë” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      // =========================================

      /**
       * ì´ì „ ë‹¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
       */
      function handlePrevMonth() {
        calendarMonth -= 1;
        if (calendarMonth < 0) {
          calendarMonth = 11;
          calendarYear -= 1;
        }
        // ì›”ì´ ë°”ë€Œë©´ ì„ íƒ ìƒíƒœ ì´ˆê¸°í™”
        selectedDateKey = null;
        renderCalendar();
        renderSchedulePanel();
      }

      /**
       * ë‹¤ìŒ ë‹¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
       */
      function handleNextMonth() {
        calendarMonth += 1;
        if (calendarMonth > 11) {
          calendarMonth = 0;
          calendarYear += 1;
        }
        selectedDateKey = null;
        renderCalendar();
        renderSchedulePanel();
      }

      /**
       * ë‚ ì§œ ì…€ í´ë¦­: í•´ë‹¹ ë‚ ì§œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ê°™ì€ ë‚ ì§œë©´ ì„ íƒ í•´ì œí•©ë‹ˆë‹¤.
       * @param {string} dateKey - 'YYYY-MM-DD'
       */
      function handleDateSelect(dateKey) {
        // ê°™ì€ ë‚ ì§œë¥¼ ë‹¤ì‹œ í´ë¦­í•˜ë©´ íŒ¨ë„ ë‹«ê¸° (í† ê¸€)
        if (selectedDateKey === dateKey) {
          selectedDateKey = null;
        } else {
          selectedDateKey = dateKey;
        }
        // ìº˜ë¦°ë” ì¬ë Œë”ë§ìœ¼ë¡œ ì„ íƒ ìƒíƒœ ë°˜ì˜
        renderCalendar();
        renderSchedulePanel();
      }

      /**
       * ì¼ì • ì¶”ê°€ ì²˜ë¦¬
       * @param {string} dateKey
       */
      function handleScheduleAdd(dateKey) {
        const input = document.getElementById('scheduleInput');
        const timeInput = document.getElementById('scheduleTimeInput');
        if (!input) return;
        const title = input.value.trim();

        if (!title) {
          input.focus();
          input.classList.add('input-error-shake');
          setTimeout(() => input.classList.remove('input-error-shake'), 400);
          return;
        }

        const time = timeInput ? timeInput.value : '';
        addScheduleEvent(dateKey, title, time);
        saveScheduleToStorage();

        // ìº˜ë¦°ë” dot í‘œì‹œì™€ íŒ¨ë„ ëª©ë¡ì„ í•¨ê»˜ ê°±ì‹ 
        renderCalendar();
        renderSchedulePanel();
      }

      /**
       * ì¼ì • ì‚­ì œ ì²˜ë¦¬
       * @param {string} dateKey
       * @param {string} eventId
       */
      function handleScheduleDelete(dateKey, eventId) {
        deleteScheduleEvent(dateKey, eventId);
        saveScheduleToStorage();
        renderCalendar();
        renderSchedulePanel();
      }

      // =========================================
      // íƒ­ ì „í™˜
      // =========================================

      /**
       * íƒ­ì„ ì „í™˜í•©ë‹ˆë‹¤.
       * @param {'todo' | 'schedule'} tabName
       */
      function switchTab(tabName) {
        const tabTodo = document.getElementById('tabTodo');
        const tabSchedule = document.getElementById('tabSchedule');
        const panelTodo = document.getElementById('panelTodo');
        const panelSchedule = document.getElementById('panelSchedule');

        if (tabName === 'todo') {
          tabTodo.classList.add('active');
          tabTodo.setAttribute('aria-selected', 'true');
          tabSchedule.classList.remove('active');
          tabSchedule.setAttribute('aria-selected', 'false');

          panelTodo.classList.add('active');
          panelSchedule.classList.remove('active');
        } else {
          tabSchedule.classList.add('active');
          tabSchedule.setAttribute('aria-selected', 'true');
          tabTodo.classList.remove('active');
          tabTodo.setAttribute('aria-selected', 'false');

          panelSchedule.classList.add('active');
          panelTodo.classList.remove('active');

          // ì¼ì • íƒ­ìœ¼ë¡œ ì „í™˜ ì‹œ ìº˜ë¦°ë” ë Œë”ë§ (ì´ˆê¸° 1íšŒ)
          renderCalendar();
          renderSchedulePanel();
        }
      }

      // =========================================
      // ì•± ì´ˆê¸°í™”
      // =========================================

      /**
       * ì•± ì „ì²´ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
       * ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ê³  ì €ì¥ëœ ë°ì´í„°ë¥¼ ë¡œë“œí•œ ë’¤ ì´ˆê¸° ë Œë”ë§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
       */
      function initApp() {
        // --- TODO íƒ­ ì´ë²¤íŠ¸ ë°”ì¸ë”© ---
        document.getElementById('addButton').addEventListener('click', handleAdd);
        document.getElementById('todoInput').addEventListener('keydown', (event) => {
          if (event.key === 'Enter') handleAdd();
        });
        document.getElementById('clearDoneButton').addEventListener('click', handleClearDone);

        // --- íƒ­ ì „í™˜ ì´ë²¤íŠ¸ ë°”ì¸ë”© ---
        document.getElementById('tabTodo').addEventListener('click', () => switchTab('todo'));
        document.getElementById('tabSchedule').addEventListener('click', () => switchTab('schedule'));

        // --- ìº˜ë¦°ë” ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸ ë°”ì¸ë”© ---
        document.getElementById('calPrevButton').addEventListener('click', handlePrevMonth);
        document.getElementById('calNextButton').addEventListener('click', handleNextMonth);

        // --- ì €ì¥ëœ ë°ì´í„° ë¡œë“œ ---
        todoItems = loadTodosFromStorage();
        scheduleData = loadScheduleFromStorage();

        // --- ì´ˆê¸° ë Œë”ë§ ---
        renderTodoList();
      }

      // DOMì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ì•± ì´ˆê¸°í™” ì‹¤í–‰
      document.addEventListener('DOMContentLoaded', initApp);
    </script>

    <!-- ì…ë ¥ì°½ í”ë“¤ë¦¼ ì• ë‹ˆë©”ì´ì…˜ (ë¹ˆ ì…ë ¥ ë°©ì–´ ì‹œ ì‹œê°ì  í”¼ë“œë°±) -->
    <style>
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        20%       { transform: translateX(-6px); }
        40%       { transform: translateX(6px); }
        60%       { transform: translateX(-4px); }
        80%       { transform: translateX(4px); }
      }

      .input-error-shake {
        animation: shake 0.35s ease;
        border-color: var(--color-danger) !important;
      }
    </style>
  </body>
</html>
